{% extends "myrsr/myrsr_base.html" %}

{% load bootstrap3 pipeline i18n rules %}

{% block title %}{% trans 'MyRSR - User projects access restrictions' %}{% endblock %}

{% block myrsr_main %}
  <section id="main" class="userProject">
    <header>
      <h2>{% trans "User access to projects" %}</h2>
      <h4>
        {% blocktrans with full_name=user_projects_user.get_full_name %}
          Project access restrictions for <span>{{ full_name }}</span>
        {% endblocktrans %}
      </h4>
      <p style="margin-top:10px;">
        {% blocktrans %}
          Select the project(s) that you would like to <strong>restrict</strong> the user access to.
        {% endblocktrans %}
      </p>
      <p>
        {% blocktrans %}
          <em>Note:</em>
          The type of access a user has to projects granted access to is based on the permissions of
          their assigned role(s)
        {% endblocktrans %}
      </p>
    </header>
    <article id="userProjects" class="col-sm-6 col-xs-8">
    </article>
  </section>
{% endblock %}

{% block js %}
  {{ block.super }}

  <script type="application/json" id="user-to-restrict">
      {
        "id": {{ user_projects_user.id }}
      }
  </script>

  <script type="application/json" id="user-projects-text">
    {
      "an_error_occured": "{% trans 'An error occured, please try again. The error message is: '|escapejs %}",
      "can_access": "{% trans 'Grant access'|escapejs %}",
      "deselect_all": "{% trans 'Uncheck all projects'|escapejs %}",
      "loading": "{% trans 'Loading...'|escapejs %}",
      "no_title": "{% trans 'Project without a title'|escapejs %}",
      "project_id": "{% trans 'Project ID'|escapejs %}",
      "project_title": "{% trans 'Project title'|escapejs %}",
      "grant_access": "{% trans 'Restrict access to projects'|escapejs %}",
      "select_all": "{% trans 'Check all projects'|escapejs %}"
    }
  </script>

  {% javascript 'vendors_bundle' %}
  {% javascript 'user_projects_bundle' %}
{% endblock js %}
