{% extends "myrsr/myrsr_base.html" %}

{% load i18n pipeline rsr_utils %}

{% block title %}{% trans 'MyRSR' %} - {% trans 'My results' %}{% endblock %}

{% block myrsr_main %}
    <div id="container" class="col-sm-12"></div>
{% endblock myrsr_main %}

{% block js %}
    {{ block.super }}

    {# Initial data endpoints #}
    <script type="application/json" id="data-endpoints">
        {
            "base_url": "//{{ request.META.HTTP_HOST }}",
            "impact_projects": "{% url 'impact_projects_typeahead' %}",
            {# This is a hack, we resolve to the correct path __except__ the project ID, which has #}
            {# to be fixed in the JS code #}
            "results_url": "{% url 'my_results' 0 %}"
        }
    </script>

    {# Translation strings #}
    <script type="application/json" id="translation-texts">
        {
            "my_results": "{% trans 'My results'|escapejs %}",
            "loading_projects": "{% trans 'Loading projects'|escapejs %}",
            "no_projects_found": "{% trans 'You are not able to fill in results data for any projects yet, only for a small selection of projects this new feature has been enabled. Soon, this will be available for all projects.'|escapejs %}",
            "select_project": "{% trans 'Select a project'|escapejs %}",
            "typeahead_placeholder": "{% trans 'Select a project by typing the project name or ID'|escapejs %}"
        }
    </script>

    {% javascript 'my_results_select' %}
{% endblock %}
