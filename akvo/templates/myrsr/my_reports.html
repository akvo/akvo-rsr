{% extends "myrsr/myrsr_base.html" %}

{% load compressed i18n %}

{% block title %}{% trans 'MyRSR - My Reports' %}{% endblock %}

{% block myrsr_main %}
    <div id="container" class="col-sm-12"></div>
{% endblock %}

{% block js %}
    {{ block.super }}

    {# Initial data endpoints #}
    <script type="application/json" id="data-endpoints">
        {
            "base_url": "http://{{ request.META.HTTP_HOST }}",
            "formats": "{% url 'report_formats_api' %}",
            "user": "{% url 'user-detail' request.user.pk %}",
            "user_organisations": "{% url 'user_organisations_typeahead' %}",
            "user_projects": "{% url 'user_projects_typeahead' %}",
            "reports": "{% url 'reports_api' %}"
        }
    </script>

    {# Translation strings #}
    <script type="application/json" id="translation-texts">
        {
            "my_reports": "{% trans 'My reports' %}",
            "download_report": "{% trans 'Download report' %}",
            "report_type": "{% trans 'Report type' %}",
            "select_a_report_type": "{% trans 'Select a report type' %}",
            "organisation": "{% trans 'Organisation' %}",
            "select_an_organisation": "{% trans 'Select an organisation' %}",
            "project": "{% trans 'Project' %}",
            "select_a_project": "{% trans 'Select a project' %}",
            "report_format": "{% trans 'Report format' %}",
            "select_a_format": "{% trans 'Select a format' %}",
            "generating_report": "{% trans 'Generating report...' %}",
            "available_shortly": "{% trans 'Your report will be downloaded shortly' %}",
            "error": "{% trans 'Error:' %}",
            "no_report": "{% trans 'No report is selected.' %}",
            "no_organisation": "{% trans 'No organisation or project is selected.' %}",
            "no_format": "{% trans 'No format is selected.' %}"
        }
    </script>

    {% compressed_js 'my_reports' %}
{% endblock %}
