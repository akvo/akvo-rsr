!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1027)}({1027:function(e,t){var r=JSON.parse(document.getElementById("default-values").innerHTML),n=JSON.parse(document.getElementById("country-values").innerHTML);var a,o=function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var r=document.cookie.split(";"),n=0;n<r.length;n++){var a=r[n].trim();if(a.substring(0,e.length+1)==e+"="){t=decodeURIComponent(a.substring(e.length+1));break}}return t}("csrftoken"),l=2,i="/rest/v1/typeaheads/projects?format=json",c="/rest/v1/typeaheads/organisations?format=json",s={};s[i]=null,s[c]=null;var d=2592e6,u="cachedAPIResponses",p=localStorage.getItem(u),m=["related-project","humanitarian-scope","budget-item","condition","contact-information","country-budget-item","document","document-category","indicator","indicator-dimension","indicator-label","indicator-period","indicator-reference","indicator-period-actual-dimension","indicator-period-actual-location","indicator-period-target-dimension","indicator-period-target-location","link","partner","planned-disbursement","policy-marker","recipient-country","recipient-region","related-project","result","sector","transaction","transaction-sector","location-administrative","project-location","keyword","crs-add","crsadd-other-flag","fss","fss-forecast","legacy-data"],f=["input","select","textarea"];function h(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}function v(e,t){for(;(e=e.parentElement)&&e.tagName!==t.toUpperCase(););return e}function g(e){return null!==h(e,"parent")}function y(e){for(var t=[],r=0;r<e.elements.length;r++){var n=e.elements[r];""!==n.name&&Fe(n)&&("INPUT"===n.nodeName?"text"!==n.type&&"number"!==n.type||(n.parentNode.classList.contains("typeahead")?t.push(n.name+"="+encodeURIComponent(n.getAttribute("value"))):t.push(n.name+"="+encodeURIComponent(n.value))):"TEXTAREA"!==n.nodeName&&"SELECT"!==n.nodeName||t.push(n.name+"="+encodeURIComponent(n.value)))}return t.join("&")}function b(e,t,r){e.removeAttribute("disabled");var n=h(e,"row").querySelector(".save-message"),a=document.createElement("div"),o=document.createElement("span");n.innerHTML="",o.classList.add("glyphicon"),t?(o.classList.add("glyphicon-ok-circle"),a.classList.add("save-success"),a.appendChild(o),setTimeout(function(){n.innerHTML=""},5e3)):(o.classList.add("glyphicon-remove-circle"),a.classList.add("help-block-error"),a.appendChild(o)),a.appendChild(document.createTextNode(" "+r)),n.appendChild(a)}function S(e){for(var t=0;t<e.length;t++)try{var r,n,a;r=e[t],(n=h(n=document.getElementById(r.name),"form-group")).classList.add("has-error");var o=document.createElement("p");o.className="help-block help-block-error",a=document.createTextNode(r.error),o.appendChild(a),n.appendChild(o);for(var l=g(n),i=n;l;)(i=h(i,"parent")).querySelector(".hide-partial").classList.contains("hidden")&&i.querySelector(".hide-partial-click").click(),l=g(i);0===t&&(document.getElementById(r.name).scrollIntoView(),window.scrollBy(0,-100))}catch(e){}}function E(e){var t=h(e,"form-group");t.classList.add("has-success"),setTimeout(function(){t.classList.remove("has-success")},5e3)}function A(e){for(var t=0;t<e.length;t++){var r=document.getElementById(e[t].old_id),n=e[t].old_id.split(".")[0]+"."+e[t].new_id;r.setAttribute("id",n),r.querySelector(".unicode").innerHTML=e[t].unicode;for(var a=r.querySelectorAll(f.join()),o=0;o<a.length;o++){var l=a[o];if("checkbox"!==l.type){var i=h(l,"parent"),c=l.getAttribute("id").split(".");if(i===r)c[2]=e[t].new_id,l.setAttribute("id",c.join(".")),l.setAttribute("name",c.join("."));else{var s=i.getAttribute("id"),d=!1;if(s.indexOf("new")>-1){for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)&&e[u].old_id===s){d=!0;break}if(!d){var p=e[t].old_id.split(".")[1].split("_").length-1,m=c[2].split("_");m[p]=e[t].new_id,c[2]=m.join("_"),l.setAttribute("id",c.join(".")),l.setAttribute("name",c.join("."));var v=s.split(".");v[1]=m.join("_"),i.setAttribute("id",v.join("."))}}}}}}}function _(e){var t,n,a,l,i;n=v(e,"form"),a=y(n),function(e){var t,r;t=e.querySelectorAll(".help-block-error"),r=e.querySelectorAll(".has-error");for(var n=t.length;n>0;n--){var a=t[n-1];a.parentNode.removeChild(a)}for(var o=r.length;o>0;o--){var l=r[o-1];l.className=l.className.replace("has-error","")}}(n),function(e){e.setAttribute("disabled",""),h(e,"row").querySelector(".save-message").innerHTML=r.saving+"..."}(e),t="/rest/v1/project/"+r.project_id+"/project_editor/?format=json",(l=new XMLHttpRequest).open("POST",t,!0),l.setRequestHeader("X-CSRFToken",o),l.setRequestHeader("Content-type","application/x-www-form-urlencoded"),l.onload=function(){if(l.status>=200&&l.status<400){var t;(t=JSON.parse(l.responseText)).errors.length>0?(i=r.save_error,S(t.errors),b(e,!1,i)):(i=r.save_success,b(e,!0,i));for(var o=0;o<t.changes.length;o++){var c=document.getElementById(t.changes[o][0]);if(c.setAttribute("saved-value",t.changes[o][1]),null!==c.parentNode&&Ke(c.parentNode,"typeahead"))h(c.parentNode,"typeahead-container").setAttribute("data-value",t.changes[o][1]);if(c.id.indexOf("rsr_indicator")>-1&&r.default_indicator>-1){var s=h(c.parentNode,"indicator-item");s.classList.contains("default-period-buttons-set")||s.querySelector(".reload-warning").classList.remove("hidden")}E(c)}return A(t.rel_objects),se(h(n,"formStep")),de(),Y(),a.indexOf("rsr_indicator")>-1&&Le(),a.indexOf("rsr_result")>-1&&we(),!1}return 403===l.status?(i=r.save_forbidden,b(e,!1,i),!1):(i=r.save_general_error,b(e,!1,i),!1)},l.onerror=function(){return i=r.connection_error,b(e,!1,i),!1},l.send(a)}function N(e){return function(t){t.preventDefault(),_(e)}}function q(){var e=document.getElementById("delete-photo");null!==e&&(e.onclick=function(t){t.preventDefault();var n=e.parentNode;n.removeChild(e);var a=document.getElementById("rsr_project.current_image."+r.project_id);h(a,"form-group").classList.remove("has-error");var l=h(a,"form-group").querySelector(".help-block-error");null!==l&&l.parentNode.removeChild(l);var i="/rest/v1/project/"+r.project_id+"/?format=json",c=new XMLHttpRequest;c.open("PATCH",i,!0),c.setRequestHeader("X-CSRFToken",o),c.setRequestHeader("Content-type","application/json"),c.onload=function(){if(c.status>=200&&c.status<400){var t=document.getElementById("img-photo");return t.parentNode.removeChild(t),a.setAttribute("saved-value",""),a.value="",se(h(a,"formStep")),de(),!1}return n.appendChild(e),S([{name:"rsr_project.current_image."+r.project_id,error:r.file_delete_error}]),!1},c.onerror=function(){return!1},c.send('{"current_image": null}')})}function R(e){var t=e.parentNode.querySelector(".delete-document");null!==t&&(t.onclick=function(e){e.preventDefault();var n=t.parentNode;n.removeChild(t);var a=n.querySelector("input");h(a,"form-group").classList.remove("has-error");var l=h(a,"form-group").querySelector(".help-block-error");null!==l&&l.parentNode.removeChild(l);var i="/rest/v1/project_document/"+a.getAttribute("id").split(".").pop()+"/?format=json",c=new XMLHttpRequest;c.open("PATCH",i,!0),c.setRequestHeader("X-CSRFToken",o),c.setRequestHeader("Content-type","application/json"),c.onload=function(){if(c.status>=200&&c.status<400){var e=n.querySelector(".document-preview");return e.parentNode.removeChild(e),a.setAttribute("saved-value",""),a.value="",se(h(a,"formStep")),de(),!1}return n.appendChild(t),S([{name:a.getAttribute("id"),error:r.file_delete_error}]),!1},c.onerror=function(){return!1},c.send('{"document": null}')})}function C(e){if(null!==e){var t,r,n,a;if(null!==(t=document.querySelector("#img-photo")))t.parentNode.removeChild(t),null!==(a=document.querySelector("#delete-photo"))&&a.parentNode.removeChild(a);n='<img src="'+e+'" class="current-project-photo" id="img-photo"><a class="btn btn-link delete-photo-button" id="delete-photo"><span class="glyphicon glyphicon-remove"></span> Delete photo</a>',(r=document.querySelector("#photo-container")).innerHTML=n+r.innerHTML,q()}}function L(e,t){if(null!==e){var n,a=t.parentNode,o=a.querySelector(".document-preview");if(null!==o)o.parentNode.removeChild(o),null!==(n=document.querySelector(".delete-document"))&&n.parentNode.removeChild(n);var l=document.createElement("a");l.setAttribute("class","document-preview"),l.setAttribute("target","_blank"),l.setAttribute("href",e);var i=document.createTextNode(r.uploaded_document);l.appendChild(i),a.appendChild(l);var c=document.createElement("a");c.setAttribute("class","delete-document");var s=document.createElement("span");s.setAttribute("class","glyphicon glyphicon-remove"),c.appendChild(s),a.appendChild(c),R(t)}}function w(){for(var e=document.querySelectorAll("input"),t=0;t<e.length;t++)"file"===e[t].type&&(e[t].getAttribute("id")==="rsr_project.current_image."+r.project_id?(e[t].onchange=j(e[t],2,"photo"),q()):(e[t].onchange=j(e[t],5,"document"),R(e[t])));return!1}function j(e,t,n){return function(a){a.preventDefault();for(var l=e.parentNode.querySelectorAll(".help-block-error"),i=0;i<l.length;i++)l[i].parentNode.removeChild(l[i]);e.parentNode.classList.remove("has-error");var c,s,d=e.files[0];if(!function(e,t){return e.size<1024*t*1024}(d,t))return s=d.size/1024/1024,c=r.file_size+": "+s.toFixed(2)+" MB. ",c+=r.file_size_allowed+" "+t.toString()+" MB.",S([{name:e.getAttribute("id"),error:c}]),!1;if("photo"===n&&!d.name.match(/\.(jpg|jpeg|png|gif)$/i))return S([{name:e.getAttribute("id"),error:r.image_file_format+": jpg, jpeg, png, gif"}]),!1;var u="/rest/v1/project/"+r.project_id+"/upload_file/?format=json",p=new FormData;p.append("file",d),p.append("field_id",e.getAttribute("id"));var m=new XMLHttpRequest,f=h(e,"form-group").querySelector(".file-progress");m.upload&&(f.classList.remove("hidden"),m.upload.addEventListener("progress",function(e){var t=f.querySelector(".progress-bar"),r=parseInt(e.loaded/e.total*100);t.setAttribute("aria-valuenow",r),t.style.width=r+"%",t.innerHTML=r+"%"},!1)),m.open("POST",u),m.setRequestHeader("X-CSRFToken",o),m.onload=function(){if(f.classList.add("hidden"),m.status>=200&&m.status<400){var t=JSON.parse(m.responseText);t.errors.length>0&&S(t.errors);for(var a=0;a<t.changes.length;a++){"photo"===n?C(t.changes[a][1]):L(t.changes[a][1],e);var o=document.getElementById(t.changes[a][0]);o.setAttribute("saved-value",t.changes[a][1]),E(o)}A(t.rel_objects),se(h(e,"formStep")),de()}else S([{name:e.getAttribute("id"),error:r.save_general_error}]);return!1},m.onerror=function(){return f.classList.add("hidden"),S([{name:e.getAttribute("id"),error:r.connection_error}]),!1},m.send(p)}}function k(){var e,t;e="/rest/v1/project/"+r.project_id+"/?format=json",(t=new XMLHttpRequest).open("GET",e,!0),t.setRequestHeader("X-CSRFToken",o),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.onload=function(){if(!(t.status>=200&&t.status<400))return!1;var e,r;e=JSON.parse(t.responseText);try{r=e.budget,document.getElementById("total-budget").innerHTML=r}catch(e){return!1}},t.onerror=function(){return!1},t.send()}function T(e,t){var n=e.querySelector(".delete-related-object-container");if(t){var a=document.createElement("div");a.setAttribute("style","color: red; margin-left: 5px;"),a.innerHTML=r.delete_error,n.appendChild(a)}var o=document.createElement("a");o.setAttribute("class","delete-related-object"),o.onclick=I(o);var l=document.createElement("span");l.setAttribute("class","glyphicon glyphicon-trash"),o.appendChild(l),n.appendChild(o)}function x(e,t,n){return function(a){a.preventDefault();var l,i,c,s,d=e.parentNode;d.parentNode.removeChild(d),l=t,i=n,v(c=document.getElementById(i+"."+l),"form"),s=new XMLHttpRequest,"keyword"===i?s.open("DELETE","/rest/v1/project/"+r.project_id+"/remove_keyword/"+l+"/?format=json",!0):s.open("DELETE","/rest/v1/"+i+"/"+l+"/?format=json",!0),s.setRequestHeader("X-CSRFToken",o),s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.onload=function(){return s.status>=200&&s.status<400?(c.parentNode.removeChild(c),"budget-item"===i?k():"result"===i?we():"indicator"===i&&Le(),de(),he(),Y(),!1):(T(c,!0),!1)},s.onerror=function(){return T(c,!0),!1},s.send()}}function I(e){return function(t){t.preventDefault();var n=h(e,"parent"),a=n.parentNode,o=n.getAttributeNode("id").value.split("."),l=o[0],i=o[1];if(i.indexOf("new")>-1)a.removeChild(n),de(),he(),Y();else{var c=e.parentNode;c.removeChild(e);var s=document.createElement("div");s.setAttribute("class","sure-message"),s.innerHTML=r.sure_message;var d=document.createElement("a");d.setAttribute("style","color: green; margin-left: 5px;"),d.onclick=x(d,i,l),d.innerHTML=r.yes;var u=document.createElement("a");u.setAttribute("style","color: red; margin-left: 5px;"),u.onclick=function(e){return function(t){t.preventDefault();var r=e.parentNode,n=r.parentNode;n.removeChild(r),T(h(n,"parent"),!1)}}(u),u.innerHTML=r.no,s.appendChild(d),s.appendChild(u),c.appendChild(s)}}}function H(e){Ke(e,"section-state-updated")||(ne(),be(e),ce(e),Y(),he(),me(e),de(),$e(e,"section-state-updated"))}function O(){document.querySelectorAll(".myPanel").forEach(function(e){H(e)})}function M(e,t){var r,n,a;null!==p&&""!==p||(p={}),r={},n=(n=new Date).getTime(),r.date=n,r.json=t,p[e]=r,a=JSON.stringify(p);try{localStorage.setItem(u,a)}catch(e){localStorage.setItem(u,JSON.stringify({}))}}function B(e,t,n,o,l,i,c,s){!function(e,t,n,a,o,l,i,c,s,d){var u,p,m,f,h,v;if(u=ReactTypeahead.Typeahead,"project"===d?(e.forEach(function(e){e.filterOption=e.id+" "+e.title,e.displayOption=e.title+" (ID: "+e.id+")"}),s="filterOption",n="displayOption"):"org"===d&&(e.forEach(function(e){var t,r,n=(t=e.name,r=e.long_name,t===r?t:r?t+" ("+r+")":t);e.filterOption=e.name+" "+e.long_name,e.displayOption=n}),s="filterOption",n="displayOption"),h="form-control "+o,f=document.getElementById(a),p=React.createClass({displayName:"TypeaheadContainer",getInitialState:function(){return{focusClass:"inactive"}},onKeyUp:function(){"org"===d&&this.setState({focusClass:"active"})},onBlur:function(){this.setState({focusClass:"inactive"})},render:function(){return React.createElement("div",{className:this.state.focusClass},React.createElement(u,{placeholder:"",options:e,onOptionSelected:t,maxVisible:10,displayOption:n,filterOption:s,childID:a,onKeyUp:this.onKeyUp,onBlur:this.onBlur,customClasses:{typeahead:"",input:h,results:"",listItem:"",token:"",customAdd:""},inputProps:{name:a,id:a}}),React.createElement("div",{className:"addOrg",onMouseDown:Ue},"+ "+r.add_new_organisation))}}),document.querySelector("footer").setAttribute("selector",a),ReactDOM.render(React.createElement(p),f),f.removeAttribute("id"),(v=f.querySelector(".typeahead input")).setAttribute("autocomplete","off"),v.setAttribute("id",a),null!==l)for(var g=0;g<e.length;g++){var y;parseInt(e[g].id,10)==parseInt(l,10)&&(y=e[g],v.value=y[n],v.setAttribute("value",y.id),f.hasAttribute("not-saved")?(f.removeAttribute("not-saved"),v.setAttribute("saved-value","")):v.setAttribute("saved-value",y.id))}else v.setAttribute("saved-value","");(m=f.querySelector(".typeahead")).appendChild(i),m.appendChild(c),$e(f,"has-typeahead")}(e.results,function(e){document.getElementById(t).setAttribute("value",e.id)},function(e,t){return e[c]},t,n,o,l,i,c,s),clearTimeout(a),a=setTimeout(O,1e3)}function D(){for(var e=0;e<m.length;e++)for(var t=m[e],r=document.querySelectorAll(".add-"+t),n=0;n<r.length;n++){var a,o=r[n];Ke(o,"has-onclick")||(a=W(t,h(o,t+"-container")),o.addEventListener("click",a),$e(o,"has-onclick"))}for(var l=document.querySelectorAll(".delete-related-object"),i=0;i<l.length;i++)l[i].onclick=I(l[i]);for(var c=document.querySelectorAll(".hide-partial-click"),s=0;s<c.length;s++)c[s].onclick=K(c[s]);for(var d=document.querySelectorAll("select"),u=0;u<d.length;u++)if("progress-bar-select"!==d[u].getAttribute("id")){var p=d[u].getAttribute("id").split(".");"rsr_partnership"==p[0]&&"iati_organisation_role"==p[1]&&(d[u].onchange=U(d[u])),"rsr_budgetitem"==p[0]&&"label"==p[1]&&(d[u].onchange=J(d[u])),"rsr_indicator"==p[0]&&"type"==p[1]&&(d[u].onchange=function(e){V(e.target),z(e.target),G(e.target)})}for(var f=document.querySelectorAll(".info-icon-special"),v=0;v<f.length;v++)f[v].onclick=F(f[v]);for(var g=document.querySelectorAll(".document-toggle"),y=0;y<g.length;y++)g[y].onchange=X(g[y]);for(var b=document.querySelectorAll(".related-project-toggle"),S=0;S<b.length;S++)b[S].onchange=P(b[S])}function P(e){return function(t){t.preventDefault();var r=h(e,"parent"),n=h(r.querySelectorAll("input")[0],"form-group"),a=h(r.querySelectorAll("input")[1],"form-group");e.checked?(a.classList.remove("hidden"),n.classList.add("hidden")):(a.classList.add("hidden"),n.classList.remove("hidden"))}}function X(e){return function(t){t.preventDefault();var r=h(e,"parent"),n=h(r.querySelectorAll("input")[0],"form-group"),a=h(r.querySelectorAll("input")[1],"form-group");e.checked?(a.classList.remove("hidden"),a.classList.remove("always-hidden"),n.classList.add("hidden"),n.classList.add("always-hidden")):(a.classList.add("hidden"),a.classList.add("always-hidden"),n.classList.remove("hidden"),n.classList.remove("always-hidden"))}}function F(e){return function(t){t.preventDefault(),t.stopPropagation?t.stopPropagation():t.cancelBubble=!0;var r=document.getElementById(e.getAttribute("toggleid"));r.classList.contains("hidden")?(r.classList.remove("hidden"),e.classList.add("activated")):(r.classList.add("hidden"),e.classList.remove("activated"))}}function J(e){return function(t){t.preventDefault();h(e,"parent");var r=e.getAttribute("id").split("."),n=[r[0],"other_extra",r[2]].join("."),a=document.getElementById(n);"Other"===e.options[e.selectedIndex].text&&a.hasAttribute("disabled")?a.removeAttribute("disabled"):"Other"===e.options[e.selectedIndex].text||a.hasAttribute("disabled")||(a.setAttribute("disabled",""),a.value="")}}function Y(){if(!r.is_admin){var e,t=document.getElementById("partner-container");if(null!==t){var n=t.querySelectorAll(".parent");if(1===n.length)Ke(e=n[0].querySelector(".delete-related-object"),"hidden")||$e(e,"hidden");else{for(var a,o,l,i=!1,c=0;c<n.length;c++)o=n[c].getAttribute("id").split(".")[1],"101"===(l=document.getElementById("rsr_partnership.iati_organisation_role."+o)).value&&(i=!0),Ke(e=n[c].querySelector(".delete-related-object"),"hidden")&&We(e,"hidden");if(!0===i){for(var s=0;s<n.length;s++)if(o=n[s].getAttribute("id").split(".")[1],"101"!==(l=document.getElementById("rsr_partnership.iati_organisation_role."+o)).value){a=l.querySelectorAll("option");for(var d=0;d<a.length;d++)"101"===a[d].getAttribute("value")&&a[d].parentNode.removeChild(a[d])}}else for(var u=0;u<n.length;u++){o=n[u].getAttribute("id").split(".")[1];var p=!1;a=(l=document.getElementById("rsr_partnership.iati_organisation_role."+o)).querySelectorAll("option");for(var m=0;m<a.length;m++)"101"===a[m].getAttribute("value")&&(p=!0);if(!1===p){var f=document.createElement("option");f.setAttribute("value","101");var h=document.createTextNode(r.reporting_org);f.appendChild(h),l.appendChild(f)}}for(var v=[],g=0;g<n.length;g++){var y=n[g].querySelector(".typeahead");if(null!==y){var b=y.querySelector("input").getAttribute("saved-value");r.org_permissions.indexOf(parseInt(b))>-1&&v.push(n[g].querySelector(".delete-related-object"))}}if(1!==v.length||Ke(v[0],"hidden")){if(v.length>1)for(var S=0;S<v.length;S++)Ke(v[S],"hidden")&&We(v[S],"hidden")}else $e(v[0],"hidden")}}}}function U(e){return function(t){t.preventDefault();var r=h(e,"parent"),n=e.getAttribute("id").split("."),a=[n[0],"funding_amount",n[2]].join("."),o=document.getElementById(a),l=h(o,"form-group"),i=[n[0],"is_secondary_reporter",n[2]].join("."),c=h(document.getElementById(i),"form-group");"101"!==e.value?("1"===e.value&&o.hasAttribute("disabled")?o.removeAttribute("disabled"):"1"!==e.value&&(o.setAttribute("disabled",""),o.value=""),Ke(l,"hidden")&&(We(l,"hidden"),We(l,"always-hidden"),$e(c,"hidden"),$e(c,"always-hidden"))):Ke(c,"hidden")&&(We(c,"hidden"),We(c,"always-hidden"),$e(l,"hidden"),$e(l,"always-hidden")),Y(),be(r)}}function V(e){var t=h(e,"parent").getElementsByClassName("measure")[0];"2"===e.value?($e(t,"hidden"),t.querySelector("select").selectedIndex=1):We(t,"hidden")}function G(e){var t=h(e,"parent").getElementsByClassName("indicator-label-container")[0].parentNode;"2"!==e.value?$e(t,"label-hidden"):We(t,"label-hidden")}function z(e){var t=h(e,"parent").querySelector(".indicator-dimension-container"),r=t.parentElement;"2"===e.value?($e(t,"hidden"),$e(r,"hidden")):(We(t,"hidden"),We(r,"hidden"))}function K(e){return function(t){var r,n;t.preventDefault(),r=e.parentNode.parentNode.getElementsByClassName("hide-partial")[0],"-"===(n=e.getElementsByClassName("folded-sign")[0]).innerHTML?(n.innerHTML="+",r.className+=" hidden"):(n.innerHTML="-",r.className=r.className.replace("hidden",""))}}function $(e,t){var r=e.getAttribute("id").split(".");e.setAttribute("id",[r[0],t].join("."));for(var n=e.querySelectorAll(f.join()),a=0;a<n.length;a++)if("checkbox"!==n[a].type&&-1===n[a].className.indexOf("masquerade-field")){var o=n[a].getAttribute("id").split(".");n[a].setAttribute("id",[o[0],o[1],t].join(".")),n[a].setAttribute("name",[o[0],o[1],t].join("."))}for(var l=e.querySelectorAll(".typeahead-container"),i=0;i<l.length;i++){var c=l[i].getAttribute("data-child-id").split("."),s=c[2];l[i].setAttribute("data-child-id",[c[0],c[1],t].join(".")),l[i].setAttribute("id",[c[0],c[1],t].join("."));for(var d=l[i].parentNode.classList,u=0;u<d.length;u++)d[u].indexOf(s)>-1&&(d.add([c[0],c[1],t].join("_")),d.remove(d[u]));for(var p=l[i].getAttribute("data-child-class").trim().split(" "),m=0;m<p.length;m++)if(p[m].indexOf(s)>-1){var h=[c[0],c[1],t].join("_");p.splice(m,1),p.push(h);break}l[i].setAttribute("data-child-class",p.join(" "))}for(var v=e.querySelectorAll(".datepicker-container"),g=0;g<v.length;g++){var y=v[g].getAttribute("data-id").split(".");v[g].setAttribute("data-id",[y[0],y[1],t].join("."))}}function W(e,t){return function(n){n.preventDefault();var a="#"+e+"-input",o=document.querySelector(a).innerHTML,l=(new DOMParser).parseFromString(o,"text/html").querySelector(".parent"),i=t.querySelector(".add-"+e).parentNode.parentNode;t.insertBefore(l,i);var c,s,d="new-"+document.querySelectorAll("."+e+"-item").length,u=function(e,t){for(var r=0;r<e.length;r++)for(var n=0;n<e[r].length;n++)if(e[r][n]===t)return e[r].splice(0,n+1),[n+1,e[r]];return[-1,!1]}([["result","indicator","indicator-period","indicator-period-actual-dimension"],["result","indicator","indicator-period","indicator-period-actual-location"],["result","indicator","indicator-period","indicator-period-target-dimension"],["result","indicator","indicator-period","indicator-period-target-location"],["result","indicator","indicator-dimension"],["result","indicator","indicator-label"],["result","indicator","indicator-reference"],["transaction","transaction-sector"],["project-location","location-administrative"],["document","document-category"],["crs-add","crsadd-other-flag"],["fss","fss-forecast"]],e),p=l.getAttribute("id").split(".")[1];if($(l,d=p.substring(0,p.length-5)+d),1===u[0]){c=l.querySelector(".parent");var m=[d,"new-"+(s=document.querySelectorAll("."+u[1][0]+"-item").length).toString()].join("_");if($(c,m),u[1].length>1)for(var f=c.querySelectorAll(".parent"),v=document.querySelectorAll("."+u[1][1]+"-item").length,g=0;g<f.length;g++)if($(f[g],[m,"new-"+v.toString()].join("_")),u[1].length>2)for(var y=f[g].querySelectorAll(".parent"),b=document.querySelectorAll("."+u[1][2]+"-item").length,S=0;S<y.length;S++)$(y[S],[m,"new-"+v.toString(),"new-"+b.toString()].join("_"))}else if(u[0]>1){if(L=(C=h(t,"parent")).getAttribute("id").split(".")[1],d="new-"+document.querySelectorAll("."+e+"-item").length,L.indexOf("_")>-1)d=[L,d].join("_");else if(2===u[0])d=[r.project_id,L,d].join("_");else{var E=h(C,"parent").getAttribute("id").split(".")[1];d=[r.project_id,E,L,d].join("_")}if($(l,d),u[1].length>0){var A=l.querySelectorAll(".parent");s=document.querySelectorAll("."+u[1][0]+"-item").length;for(var _=0;_<A.length;_++)if($(A[_],[d,"new-"+s.toString()].join("_")),u[1].length>1)for(var N=A[_].querySelectorAll(".parent"),q=document.querySelectorAll("."+u[1][1]+"-item").length,R=0;R<N.length;R++)$(N[R],[d,"new-"+s.toString(),"new-"+q.toString()].join("_"))}}var C,L,j,k=document.getElementById("rsr_project.currency."+r.project_id),T=l.querySelectorAll(".currency-display"),x="EUR";null!==k&&(x=k.value);for(var I=0;I<T.length;I++)T[I].innerHTML=x;ee(j),Z(),Xe(),Pe(),Ee(),Ne(),te("."+e+"-container"),de(),he(),ve(),Se(),D(),w(),Y()}}function Q(e,t,r,n,a,o,i){function c(e,t,r,n,o,i,c,u){return function(){!function e(t,r,n,a,o){var l;if(null===s[t]||o){if(null!==p&&""!==p&&!o&&void 0!==p[t]){var i=p[t];if(c=i.date,u=d,(new Date).getTime()-c<=u)return void a(i.json)}var c,u;(l=new XMLHttpRequest).onreadystatechange=function(){if(l.readyState!=XMLHttpRequest.DONE)return!1;if(200==l.status){var o=JSON.parse(l.responseText);s[t]=o,M(t,o),a(o)}else{if(r>=n)return!1;e(t,r+=1,n,a)}},l.open("GET",t,!0),l.send()}else a(s[t])}(a,0,l,function(e,t,r,n,a,o,l){return function(i){B(i,e,t,r,n,a,o,l)}}(e,t,r,n,o,i,c),u)}}for(var u=0;u<e.length;u++){var m=e[u];if(Ke(m,"has-typeahead")){if(!i)continue;var f=m.querySelector("div");m.removeChild(f),m.setAttribute("id",m.getAttribute("data-child-id"))}var h=m.getAttribute("data-child-id"),v=m.getAttribute("data-child-class"),g=null,y=document.createElement("label"),b=document.createElement("p");y.setAttribute("for",h),$e(y,"control-label"),$e(y,"typeahead-label"),y.textContent=r,$e(b,"help-block"),$e(b,"hidden"),b.textContent=n,""!==m.getAttribute("data-value")&&(g=m.getAttribute("data-value")),c(h,v,g,y,b,t,o,i)()}}function Z(){Q(document.querySelectorAll(".rsr_relatedproject-related_project"),"title",r.related_project_label,r.related_project_helptext,i,"project")}function ee(e){Q(document.querySelectorAll(".rsr_partnership-organisation"),"name",r.partner_label,r.partner_helptext,c,"org",e),Q(document.querySelectorAll(".rsr_transaction-provider_organisation"),"name",r.provider_org_label,r.provider_org_helptext,c,"org",e),Q(document.querySelectorAll(".rsr_transaction-receiver_organisation"),"name",r.recipient_org_label,r.recipient_org_helptext,c,"org",e),Q(document.querySelectorAll(".rsr_planneddisbursement-provider_organisation"),"name",r.provider_org_label,r.provider_org_helptext,c,"org",e),Q(document.querySelectorAll(".rsr_planneddisbursement-receiver_organisation"),"name",r.recipient_org_label,r.recipient_org_helptext,c,"org",e)}function te(e){for(var t,r=document.querySelectorAll(e+" label.control-label"),n=0;n<r.length;n++){var a,o,l,i,c=r[n];if(!Ke(c,"has-icon")){o=!0;var s=c.parentNode.querySelectorAll(".help-block").length,d=c.parentNode.parentNode.querySelectorAll(".help-block").length;if(0===s){if(1!==d)continue;o=!1}i=o?c.parentNode.querySelector(".help-block"):c.parentNode.parentNode.querySelector(".help-block"),l=["glyphicon","glyphicon-info-sign","info-icon"],(t=i).offsetWidth>0&&t.offsetHeight>0&&l.push("activated"),a=document.createElement("span");for(var u=0;u<l.length;u++)$e(a,l[u]);c.appendChild(a);for(var p=c.querySelectorAll(".info-icon"),m=0;m<p.length;m++)p[m].onclick=re(p[m],o);$e(c,"has-icon")}}}function re(e,t){return function(r){var n;r.preventDefault(),n=t?e.parentNode.parentNode.querySelector(".help-block"):e.parentNode.parentNode.parentNode.querySelector(".help-block"),Ke(e,"activated")?(We(e,"activated"),n.style.display="none"):($e(e,"activated"),Ke(n,"hidden")&&We(n,"hidden"),n.style.display="block")}}function ne(){te(".projectEdit")}function ae(){return document.getElementById("progress-bar").getAttribute("validation-sets").split("-")}function oe(e){return(e.getAttribute("name")!=="rsr_project.iati_status."+r.project_id||"0"!==e.value)&&("checkbox"!==e.type&&("file"===e.type&&""!==e.getAttribute("saved-value")||""!==e.value))}function le(e){for(var t=e.querySelectorAll(f.join()),r=0;r<t.length;r++)if(oe(t[r]))return!0;return!1}function ie(e){for(var t=ae(),r=[],n=0;n<t.length;n++){var a=t[n];if(Ke(e,"hidden-"+a))r.push(a);else for(var o=h(e,"related-object-container");null!==o;)Ke(o,"hidden-"+a)?(r.push(a),o=null):o=h(o,"related-object-container")}return t.length===r.length}function ce(e){for(var t=(e=e||document).querySelectorAll(f.join()),r=0;r<t.length;r++){var n=h(t[r],"form-group");null!==n&&(ie(t[r])||Ke(n,"always-hidden")?$e(n,"hidden"):We(n,"hidden"))}for(var a=e.querySelectorAll(".related-object-container"),o=0;o<a.length;o++){var l=a[o];ie(l)?$e(l,"hidden"):We(l,"hidden")}for(var i=document.querySelectorAll(".myPanel"),c=0;c<i.length;c++){var s=i[c];ie(s)?$e(s,"hidden"):We(s,"hidden")}}function se(e){var t=ue(e),r=t[0],n=t[1];0!==r?pe(n,r,e):pe(1,1,e)}function de(){var e=ue(document.querySelector(".projectEdit")),t=e[0],n=pe(e[1],t,document.querySelector(".progress-and-publish"));if(r.can_create_projects){var a=document.getElementById("publishProject");null!==a&&(100!==n&&"unpublished"===a.getAttribute("status")?a.setAttribute("disabled",""):a.removeAttribute("disabled"))}}function ue(e){function t(e){for(var t=ae(),r=0;r<t.length;r++)for(var n="mandatory-"+t[r]+"-or-",a=e.classList,o=0;o<a.length;o++)if(a[o].indexOf(n)>-1){var l=a[o].replace(n,""),i=e.getAttribute("id").split("."),c=[i[0],l,i[2]].join(".");return document.getElementById(c)}return null}for(var r=0,n=0,a=[],o=e.querySelectorAll("span.mandatory"),l=0;l<o.length;l++)if(!Ke(o[l],"mandatory-block")){var i=h(o[l],"form-group");if(null===i){var c=h(o[l],"parent");null!==c?le(c)&&(r+=1):r+=1;for(var s=h(o[l],"related-object-container").querySelectorAll(".parent"),d=0;d<s.length;d++){if(le(s[d])){n+=1;break}}}else{for(var u=null,p=0;p<f.length&&null===(u=i.querySelector(f[p]));p++);if(null===u)continue;if(null!==u.getAttribute("disabled"))continue;var m=h(u,"parent");if(null!==m&&!le(m))continue;r+=1;var v=t(u);null===v?oe(u)&&(n+=1):a.indexOf(v)>-1?oe(v)?n+=1:oe(u)&&(n+=2):oe(u)&&(n+=1),a.push(u)}}return[r,n]}function pe(e,t,r){var n,a;return 0===(n=Math.floor(e/t*100))&&(n=1),r.querySelector(".progress-bar").setAttribute("aria-valuenow",n),r.querySelector(".progress .sr-only").textContent=n+"% Complete",r.querySelector("div.progress-bar").style.width=n+"%",n<10?a="empty":n<100?a="incomplete":100===n&&(a="complete"),r.querySelector("div.progress-bar").setAttribute("data-completion",a),n}function me(e){for(var t=e.querySelectorAll(f.join()),r=0;r<t.length;r++){var n,a=t[r];Ke(a,"has-listener")||(n=fe(e,a),a.addEventListener("change",n))}}function fe(e,t){return function(){se(e),$e(t,"has-listener"),de(),be(h(t,"parent")||e)}}function he(){for(var e=document.querySelectorAll(".formStep"),t=0;t<e.length;t++)se(e[t])}function ve(){for(var e=document.querySelectorAll(".formStep"),t=0;t<e.length;t++)me(e[t])}function ge(e,t){var n=h(e,"form-group");if(null===n.querySelector("span.mandatory-block")){var a=document.createElement("span");a.setAttribute("class","mandatory-block mandatory"),a.textContent="*"+r.or_mandatory_1+" "+t+" "+r.or_mandatory_2+".",n.appendChild(a)}}function ye(e){var t,r=h(e,"form-group");if(null===(t=null!==r?r.querySelector("label"):e.querySelector("h5")).querySelector("span.mandatory")){var n=document.createElement("span");n.setAttribute("class","mandatory"),n.textContent="*",t.appendChild(n)}}function be(e){for(var t=(e=e||document).querySelectorAll(".mandatory:not(.in-org-modal)"),r=0;r<t.length;r++)t[r].parentNode.removeChild(t[r]);for(var n=ae(),a=0;a<n.length;a++)for(var o=".mandatory-"+n[a],l=e.querySelectorAll(o),i=0;i<l.length;i++)if(!l[i].hasAttribute("disabled")&&!h(l[i],"always-hidden")&&(!g(l[i])||le(h(l[i],"parent"))||g(l[i])&&Ke(h(l[i],"related-object-container"),"mandatory-"+n[a]))){ye(l[i]);for(var c=o.replace(".","")+"-or-",s=l[i].classList,d=0;d<s.length;d++)if(s[d].indexOf(c)>-1){var u=s[d].replace(c,""),p=u.replace(/_/g," "),m=l[i],f=m.id.split("."),v=document.querySelector("#"+[f[0],u,f[2]].join("\\."));""===m.value&&""===v.value&&ge(m,p)}}}function Se(){function e(e){return function(){var t,r;if(t=parseInt(e.getAttribute("maxlength"),10)-e.value.length,r="",0===e.parentNode.querySelectorAll(".charsLeft").length){var n=document.createElement("span");$e(n,"charsLeft"),e.parentNode.appendChild(n)}r=1===t?" character remaining":" characters remaining",e.parentNode.querySelector(".charsLeft").style.display="",e.parentNode.querySelector(".charsLeft").textContent=t+r}}function t(e){var t,r=e.parentNode;return t=function(){var e=r.querySelector(".charsLeft");e&&(e.style.display="none")},function(){setTimeout(t,250)}}for(var r,n,a=document.querySelectorAll("input"),o=document.querySelectorAll("textarea"),l=0;l<a.length;l++){var i=a[l];Ke(i,"validation-listener")||"text"===i.getAttribute("type")&&i.hasAttribute("maxlength")&&(r=e(i),n=t(i),i.addEventListener("input",r),i.addEventListener("focusout",n))}for(var c=0;c<o.length;c++){var s=o[c];Ke(s,"validation-listener")||s.hasAttribute("maxlength")&&(r=e(s),n=t(s),s.addEventListener("input",r),s.addEventListener("focusout",n))}be(),ce()}function Ee(){var e=document.getElementById("rsr_project.currency."+r.project_id);null!==e&&(e.onchange=function(e){return function(t){t.preventDefault();for(var r=e.value,n=document.querySelectorAll(".currency-display"),a=0;a<n.length;a++){var o=n[a];Ae(o)||(o.innerHTML=r)}}}(e));for(var t=document.querySelectorAll(".currency-select"),n=0;n<t.length;n++){var a=t[n];a!==e&&(a.onchange=_e(a))}}function Ae(e){if(null!==e){var t=h(e,"parent");if(null!==t){var r=t.querySelector(".currency-select");if(null!==r)return""!==r.value}}return!1}function _e(e){return function(t){if(t.preventDefault(),null!==e){var n=h(e,"parent"),a=e.value;if(""===a){var o=document.getElementById("rsr_project.currency."+r.project_id);null!==o&&(a=o.value)}if(null!==n)for(var l=n.querySelectorAll(".currency-display"),i=0;i<l.length;i++){var c=l[i];null!==c&&(c.innerHTML=a)}}}}function Ne(){[{selector:".sector-vocabulary",optionsId:"sector-vocabulary-options",textInputSelector:".sector-code-text-input",dropDownInputSelector:".sector-code-dropdown-input"},{selector:".default-aid-type-vocabulary",optionsId:"aid-type-vocabulary-options",textInputSelector:".aid-type-text-input",dropDownInputSelector:".aid-type-dropdown-input"},{selector:".transaction-aid-type-vocabulary",optionsId:"aid-type-vocabulary-options",textInputSelector:".aid-type-text-input",dropDownInputSelector:".aid-type-dropdown-input"}].map(function(e){for(var t=document.querySelectorAll(e.selector),r=0;r<t.length;r++)t[r].querySelector("select").onchange=qe(t[r],e),Re(t[r],e.optionsId,e.textInputSelector,e.dropDownInputSelector)})}function qe(e,t){return function(r){r.preventDefault(),Re(e,t.optionsId,t.textInputSelector,t.dropDownInputSelector)}}function Re(e,t,r,n){var a=e.getElementsByTagName("select")[0],o=a.options[a.selectedIndex].value,l=JSON.parse(document.getElementById(t).innerHTML)[o],i=e.parentNode.querySelector(r),c=e.parentNode.querySelector(n);if(l){c.classList.remove("hidden"),i.classList.add("hidden");var s=c.querySelector("select");for(var d in s.options.length=0,Ce(s,"",""),l)Ce(s,d,l[d]);!function(e,t){for(var r=0;r<e.options.length;r++)e.options[r].value==t&&(e.selectedIndex=r)}(s,s.getAttribute("saved-value"))}else i.classList.remove("hidden"),c.classList.add("hidden")}function Ce(e,t,r){var n=document.createElement("option");n.text=r,n.value=t,e.add(n)}function Le(){for(var e=document.querySelectorAll(".indicator-container"),t=0;t<e.length;t++)for(var r=e[t].querySelectorAll('.indicator-item:not([id*="new"])'),n=0;n<r.length;n++)je(r[n],"indicator",n,r.length),r[n].classList.contains("default-period-buttons-set")||Te(r[n])}function we(){for(var e=document.querySelectorAll('.result-item:not([id*="new"])'),t=0;t<e.length;t++)je(e[t],"result",t,e.length)}function je(e,t,n,a){var o=e.getAttribute("id").split(".")[1];if(e.classList.contains("sort-buttons-set"))0===n||a<2?e.querySelector(".sort-up").setAttribute("class","sort-up hidden"):e.querySelector(".sort-up").setAttribute("class","sort-up"),n==a-1||a<2?e.querySelector(".sort-down").setAttribute("class","sort-down hidden"):e.querySelector(".sort-down").setAttribute("class","sort-down");else{var l=document.createElement("span");e.className+=" sort-buttons-set";var i=document.createElement("a"),c=document.createElement("span");c.style="margin-right: 10px; font-size: 80%;",0===n||a<2?(c.setAttribute("class","sort-up hidden"),c.innerHTML=r.move_up):(c.setAttribute("class","sort-up"),c.innerHTML=r.move_up),"indicator"==t?c.onclick=ke("indicator",o,"up"):"result"==t&&(c.onclick=ke("result",o,"up")),i.appendChild(c);var s=document.createElement("a"),d=document.createElement("span");d.style="margin-right: 10px; font-size: 80%;",n==a-1||a<2?(d.setAttribute("class","sort-down hidden"),d.innerHTML=r.move_down):(d.setAttribute("class","sort-down"),d.innerHTML=r.move_down),"indicator"==t?d.onclick=ke("indicator",o,"down"):"result"==t&&(d.onclick=ke("result",o,"down")),s.appendChild(d),l.appendChild(i),l.appendChild(s);var u=e.querySelector(".delete-related-object-container");u.insertBefore(l,u.childNodes[0])}}function ke(e,t,n){return function(a){var l,i;a.preventDefault();var c="item_type="+e+"&item_id="+t+"&item_direction="+n;l="/rest/v1/project/"+r.project_id+"/reorder_items/?format=json",(i=new XMLHttpRequest).open("POST",l,!0),i.setRequestHeader("X-CSRFToken",o),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.onload=function(){if(!(i.status>=200&&i.status<400))return!1;var r=JSON.parse(i.responseText);r.swap_id>-1?function(e,t,r,n){var a=document.getElementById(e+"."+t),o=document.getElementById(e+"."+r),l=a.parentNode;"up"==n?(l.insertBefore(a,o),l.firstElementChild==a&&(a.querySelector(".sort-up").className+=" hidden",We(o.querySelector(".sort-up"),"hidden")),l.lastElementChild.previousElementSibling==o&&(We(a.querySelector(".sort-down"),"hidden"),o.querySelector(".sort-down").className+=" hidden")):"down"==n&&(l.insertBefore(o,a),l.firstElementChild==o&&(We(a.querySelector(".sort-up"),"hidden"),o.querySelector(".sort-up").className+=" hidden"),l.lastElementChild.previousElementSibling==a&&(a.querySelector(".sort-down").className+=" hidden",We(o.querySelector(".sort-down"),"hidden")))}(e,t,r.swap_id,n):console.log(r.errors)},i.onerror=function(){return!1},i.send(c)}}function Te(e){indicatorId=e.getAttribute("id").split(".")[1];var t=document.createElement("span");t.setAttribute("class","default-period-container");var n=document.createElement("a");n.setAttribute("class","default-period-add"),n.innerHTML=r.set_default,n.onclick=function(e,t){return function(n){n.preventDefault(),e.querySelector(".default-period-add").classList.add("hidden");var a=document.createElement("span");a.setAttribute("class","default-confirm-container");var o=document.createElement("span");o.innerHTML=r.add_to_existing;var l=document.createElement("a");l.setAttribute("class","default-yes-button"),l.innerHTML=r.yes,l.onclick=xe(e,t,!0);var i=document.createElement("a");i.setAttribute("class","default-no-button"),i.innerHTML=r.no,i.onclick=xe(e,t,!1),a.appendChild(o),a.appendChild(l),a.appendChild(i),e.appendChild(a)}}(t,indicatorId);var a=document.createElement("a");a.setAttribute("class","default-period-remove"),a.innerHTML=r.remove_default,a.onclick=function(e,t){return function(r){r.preventDefault(),e.querySelector(".default-period-remove").classList.add("hidden"),Ie(t,!1,!1);for(var n=document.querySelectorAll(".default-period-add"),a=0;a<n.length;a++)n[a].classList.remove("hidden")}}(t,indicatorId),"-1"===r.default_indicator?a.classList.add("hidden"):indicatorId==r.default_indicator?n.classList.add("hidden"):(n.classList.add("hidden"),a.classList.add("hidden")),t.appendChild(n),t.appendChild(a);var o=e.querySelector(".delete-related-object-container");o.insertBefore(t,o.childNodes[0]),e.className+=" default-period-buttons-set"}function xe(e,t,n){return function(a){if(a.preventDefault(),e.parentNode.classList.add("default-indicator"),e.querySelector(".default-confirm-container").classList.add("hidden"),!0===n){var o=document.createElement("span");o.innerHTML=r.refresh_periods,e.appendChild(o),Ie(t,!0,!0)}else e.querySelector(".default-period-remove").classList.remove("hidden"),Ie(t,!1,!0);for(var l=document.querySelectorAll(".default-period-add"),i=0;i<l.length;i++)l[i].classList.add("hidden")}}function Ie(e,t,n){var a,l,i="indicator_id="+e+"&copy="+t+"&set_default="+n;a="/rest/v1/project/"+r.project_id+"/default_periods/?format=json",(l=new XMLHttpRequest).open("POST",a,!0),l.setRequestHeader("X-CSRFToken",o),l.setRequestHeader("Content-type","application/x-www-form-urlencoded"),l.onload=function(){if(!(l.status>=200&&l.status<400))return!1;var t=JSON.parse(l.responseText);console.log("submitDefaultPeriods response: "+JSON.stringify(t)),t.default_periods?r.default_indicator=e:r.default_indicator="-1"},l.onerror=function(){return!1},l.send(i)}function He(e){return function(t){t.preventDefault();var r=e.querySelector(".panel-body");Ke(r,"hidden")?We(r,"hidden"):$e(r,"hidden")}}function Oe(e){return function(t){var r,n,a,o,l,i;if(t.preventDefault(),a=e.parentNode.parentNode,r=document.getElementsByClassName("formBlock"),n=document.getElementsByClassName("toggleSection"),o=a.getElementsByClassName("formBlock")[0],i=a.getElementsByTagName("input")[0],l=e.getElementsByClassName("info-icon")[0],o.className.indexOf("hidden")>-1){o.className=o.className.replace("hidden",""),i.checked=!0,a.scrollIntoView(),window.scrollBy(0,-100);for(var c=0;c<r.length;c++)r[c]!==o&&-1===r[c].className.indexOf("hidden")&&(r[c].className+=" hidden");for(var s=0;s<n.length;s++){var d=n[s].getElementsByClassName("info-icon")[0];-1===d.className.indexOf("hidden")&&(d.className+=" hidden")}l.className.indexOf("hidden")>-1&&(l.className=l.className.replace("hidden","")),H(a)}else o.className+=" hidden",l.className+=" hidden"}}function Me(){var e=document.getElementById("private-project");null!==e&&(e.onchange=function(e){return function(t){t.preventDefault();var n="/rest/v1/project/"+r.project_id+"/?format=json",a=new XMLHttpRequest;a.open("PATCH",n,!0),a.setRequestHeader("X-CSRFToken",o),a.setRequestHeader("Content-type","application/json"),a.onload=function(){a.status>=200&&a.status<400&&(e.hasAttribute("checked")?e.removeAttribute("checked"):e.setAttribute("checked",""))};var l=e.hasAttribute("checked")?'{"is_public": true}':'{"is_public": false}';a.send(l)}}(e))}function Be(){var e=document.getElementById("impact-project");null!==e&&(e.onchange=function(e){return function(t){t.preventDefault();var n="/rest/v1/project/"+r.project_id+"/?format=json",a=new XMLHttpRequest;a.open("PATCH",n,!0),a.setRequestHeader("X-CSRFToken",o),a.setRequestHeader("Content-type","application/json"),a.onload=function(){a.status>=200&&a.status<400&&(e.hasAttribute("checked")?e.removeAttribute("checked"):e.setAttribute("checked",""))};var l=e.hasAttribute("checked")?'{"is_impact_project": false}':'{"is_impact_project": true}';a.send(l)}}(e));var t=document.getElementById("import-results");null!==t&&(t.onclick=function(e){return function(t){var n,a,l;t.preventDefault(),e.setAttribute("disabled",""),a=e.parentNode,n="/rest/v1/project/"+r.project_id+"/import_results/?format=json",(l=new XMLHttpRequest).open("POST",n,!0),l.setRequestHeader("X-CSRFToken",o),l.setRequestHeader("Content-type","application/json"),l.onload=function(){var t,r,n;try{n=l.status,t=JSON.parse(l.responseText)}catch(e){n=500,t={message:"A network error occurred, please try again"}}r=document.createElement("div"),201===n?(a.removeChild(e),r.classList.add("save-success"),r.innerHTML="Import successful. Please refresh the page to see (and edit) the imported results.",a.appendChild(r)):(e.removeAttribute("disabled"),r.classList.add("help-block-error"),r.innerHTML=t.message,a.appendChild(r))},l.send()}}(t))}function De(){var e=document.getElementById("publishProject");return null!==e&&(e.onclick=function(e,t){return function(n){var a,l,i,c,s,d,u;if(n.preventDefault(),t.setAttribute("disabled",""),s=t.getAttribute("status"),(i=document.getElementById("publishErrors")).innerHTML="","unpublished"===s&&(u=Ye()).length>0){d="There are unsaved changes in the following section(s):<ul>";for(var p=0;p<u.length;p++)d+="<li>"+u[p]+"</li>";return d+="</ul>",(c=document.createElement("span")).className="notPublished",c.innerHTML=d,i.appendChild(c),void t.removeAttribute("disabled")}a="/rest/v1/publishing_status/"+e+"/?format=json",(l=new XMLHttpRequest).open("PATCH",a,!0),l.setRequestHeader("X-CSRFToken",o),l.setRequestHeader("Content-type","application/json"),l.onload=function(){if(l.status>=200&&l.status<400){var e,n,a=document.getElementById("publish-indicator");return"unpublished"===s?(a.className="published",a.innerHTML=r.published,t.setAttribute("status","published"),e=document.createTextNode(" "+r.unpublish),(n=document.createElement("span")).className="glyphicon glyphicon-remove",t.innerHTML="",t.className=t.className.replace("btn-success","btn-danger"),t.appendChild(n),t.appendChild(e)):(a.className="notPublished",a.innerHTML=r.not_published,t.setAttribute("status","unpublished"),e=document.createTextNode(" "+r.publish),(n=document.createElement("span")).className="glyphicon glyphicon-ok",t.innerHTML="",t.className=t.className.replace("btn-danger","btn-success"),t.appendChild(n),t.appendChild(e)),t.removeAttribute("disabled"),!1}if(t.removeAttribute("disabled"),400==l.status){var o;o=JSON.parse(l.responseText),(c=document.createElement("span")).className="notPublished",i.appendChild(c);try{for(var d=0;d<o.__all__.length;d++)c.innerHTML+=o.__all__[d]+"<br/>"}catch(e){i.innerHTML="unpublished"===s?"Could not publish project.":"Could not unpublish project."}}return!1},l.onerror=function(){return(c=document.createElement("span")).className="notPublished",i.appendChild(c),i.innerHTML="unpublished"===s?"Could not publish project due to a connection error.":"Could not unpublish project due to a connection error.",t.removeAttribute("disabled"),!1},"unpublished"===s?l.send('{"status": "published"}'):l.send('{"status": "unpublished"}')}}(r.publishing_status_id,e)),!1}function Pe(){if(r.hierarchy_name){var e=r.start_date;e||(e=r.period_start);var t=r.end_date;t||(t=r.period_end);for(var n=e+" - "+t,a=document.getElementsByClassName("indicator-period-container"),o=0;o<a.length;o++){var l=a[o].getElementsByClassName("unicode")[0];"("!==l.innerHTML[0]&&(l.innerHTML=n)}}}function Xe(){function e(e,t,n){return React.createClass({displayName:e,getInitialState:function(){return{initialDate:t,disableInput:n}},handleDateChange:function(e){this.setState({initialDate:e},this.fireInputChangeListener)},fireInputChangeListener:function(){var e=this.getDOMNode().querySelector("input");fe(h(e,"formStep"),e)()},render:function(){return"true"!==n?React.createElement("div",null,React.createElement(DatePicker,{locale:"en",placeholderText:"",showYearDropdown:!0,dateFormat:"DD/MM/YYYY",selected:this.state.initialDate,onChange:this.handleDateChange,todayButton:r.today,className:this.props.classNames})):React.createElement("div",null,React.createElement(DatePicker,{locale:"en",placeholderText:"",dateFormat:"DD/MM/YYYY",selected:this.state.initialDate,className:this.props.classNames}))}})}for(var t=document.getElementsByClassName("datepicker-container"),n=0;n<t.length;n++){var a,o,l,i,c,s,d,u,p,m,f,v;if(-1==(l=t[n]).className.indexOf("has-datepicker")){a=l.getAttribute("data-id"),m=l.getAttribute("data-masquerade-date"),v=l.getAttribute("new-period"),u=l.getAttribute("data-child"),i=l.getAttribute("data-disabled"),s=""!==u?moment(u,"DD-MM-YYYY"):null;var g=l.getAttribute("mandatory-or"),y="form-control "+l.getAttribute("data-classes");o=e(a,s,i),ReactDOM.render(React.createElement(o,{key:a,classNames:y}),l),(d=l.querySelector("input")).setAttribute("id",a),d.setAttribute("name",a),"false"!==v&&null!==v||d.setAttribute("saved-value",u),"true"===i&&d.setAttribute("disabled",""),d.parentNode.className="",d.setAttribute("mandatory-or",g),m&&((f=document.createElement("input")).setAttribute("class","form-control masquerade-field"),f.setAttribute("type","text"),f.setAttribute("value",m),f.setAttribute("disabled",!0),d.parentNode.appendChild(f)),(p=document.createElement("label")).setAttribute("for",a),p.setAttribute("class","control-label"),p.innerHTML=l.getAttribute("data-label"),d.parentNode.appendChild(p),(c=document.createElement("p")).setAttribute("class","help-block hidden"),c.innerHTML=l.getAttribute("data-helptext"),d.parentNode.appendChild(c),l.className+=" has-datepicker"}}}function Fe(e){return"file"!==e.type&&"checkbox"!==e.type&&!h(e,"form-group").classList.contains("hidden")&&(e.parentNode.classList.contains("typeahead")?e.getAttribute("value")!==e.getAttribute("saved-value"):e.value!==e.getAttribute("saved-value"))}function Je(e){for(var t=e.querySelectorAll(f.join()),r=0;r<t.length;r++)if("checkbox"!==t[r].type&&!t[r].classList.contains("masquerade-field")&&!t[r].classList.contains("invisible")&&Fe(t[r]))return!0;return!1}function Ye(){var e,t,r;r=[],t=["01 - General information","02 - Contact information","03 - Project partners","04 - Project descriptions","05 - Results and indicators","06 - Finance","07 - Project locations","08 - Project focus","09 - Links and documents","10 - Project comments","11 - Special reporting"],e=document.querySelectorAll("form");for(var n=0;n<e.length;n++)Je(e[n])&&r.push(t[n]);return r}function Ue(){function e(){var e=document.querySelector(".modalParent");e.parentNode.removeChild(e)}function t(){var t,n,a;(function(){for(var e=!0,t=[["name","newOrgName"],["long_name","newOrgLongName"],["new_organisation_type","IATIOrgTypeContainer"],["latitude","orgLatitude"],["longitude","orgLongitude"],["iati_country","orgCountry"]],n=0;n<t.length;n++){var a=t[n],o=document.querySelector("#"+a[0]),l=document.querySelector("#"+a[0]+" + label + .help-block"),i=document.querySelector(".inputContainer."+a[1]);""===o.value?(l.textContent=r.blank_field,$e(l,"help-block-error"),$e(i,"has-error"),e=!1):("latitude"===a[0]||"longitude"===a[0])&&o.value.indexOf(",")>0?(l.textContent=r.comma_value,$e(l,"help-block-error"),$e(i,"has-error"),e=!1):(l.textContent="",We(l,"help-block-error"),We(i,"has-error"))}return e})()?(n=document.querySelector("#addOrganisation"),a=(a=y(n)).replace("iati_org_id=&",""),(t=new XMLHttpRequest).open("POST","/rest/v1/organisation/?format=json",!0),t.setRequestHeader("X-CSRFToken",o),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.onload=function(){var r;if(201!==t.status){if(400===t.status){for(var l in r=JSON.parse(t.responseText),document.querySelector(".orgModal").scrollTop=0,r)if(r.hasOwnProperty(l)){var i=n.querySelector("#"+l).parentNode,c=i.querySelector(".help-block");c.textContent=r[l],$e(c,"help-block-error"),$e(i,"has-error")}return!1}return $e(n,"has-error"),!1}var s,d,u,p=(r=JSON.parse(t.responseText)).id;!function(e,t,r){var n=t.querySelector("#latitude").value,a=t.querySelector("#longitude").value;if(""!==n&&""!==a){var l=new XMLHttpRequest;l.open("POST","/rest/v1/organisation_location/?format=json",!1),l.setRequestHeader("X-CSRFToken",o),l.setRequestHeader("Content-type","application/x-www-form-urlencoded"),l.send(r+"&location_target="+e)}!function(e){var t=document.getElementById("org-logo").files;if(void 0===t)return;var r="/rest/v1/organisation/"+e+"/add_logo/?format=json",n=new FormData,a=new XMLHttpRequest;n.append("logo",t[0]),a.open("POST",r),a.setRequestHeader("X-CSRFToken",o),a.send(n)}(e)}(p,n,a),s=p,d=document.querySelector("footer"),(u=h(document.getElementById(d.getAttribute("selector")),"typeahead-container")).setAttribute("data-value",s),u.setAttribute("not-saved",""),ee(!0),e()},t.onerror=function(){return document.querySelector("#addOrgGeneralError").textContent=r.general_error,document.querySelector(".orgModal").scrollTop=0,!1},t.send(a)):document.querySelector(".orgModal").scrollTop=0}var a=React.createClass({displayName:"Modal",render:function(){var a=n.map(function(e){return React.createElement("option",{value:e.pk},e.name)});return React.createElement("div",{className:"modalParent"},React.createElement("div",{className:"modalBackground"}),React.createElement("div",{className:"modalContainer"},React.createElement("div",{className:"orgModal"},React.createElement("div",{className:"modalContents projectEdit"},React.createElement("h4",null,r.add_new_organisation),React.createElement("form",{id:"addOrganisation"},React.createElement("div",{className:"row"},React.createElement("div",{id:"addOrgGeneralError",className:"col-md-12 help-block-error"})),React.createElement("div",{className:"row"},React.createElement("div",{className:"inputContainer newOrgName col-md-4 form-group"},React.createElement("input",{name:"name",id:"name",type:"text",className:"form-control",maxLength:"40"}),React.createElement("label",{htmlFor:"newOrgName",className:"control-label"},r.name,React.createElement("span",{className:"mandatory in-org-modal"},"*")),React.createElement("p",{className:"help-block"},r.max," 40 ",r.characters)),React.createElement("div",{className:"inputContainer newOrgLongName col-md-4 form-group"},React.createElement("input",{name:"long_name",id:"long_name",type:"text",className:"form-control",maxLength:"100"}),React.createElement("label",{htmlFor:"newOrgLongName",className:"control-label"},r.long_name,React.createElement("span",{className:"mandatory in-org-modal"},"*")),React.createElement("p",{className:"help-block"},r.max," 100 ",r.characters)),React.createElement("div",{className:"inputContainer newOrgIatiId col-md-4 form-group"},React.createElement("input",{name:"iati_org_id",id:"iati_org_id",type:"text",className:"form-control",maxLength:"75"}),React.createElement("label",{htmlFor:"newOrgIatiId",className:"control-label"},r.iati_org_id),React.createElement("p",{className:"help-block"},r.max," 75 ",r.characters))),React.createElement("div",{className:"row"},React.createElement("div",{className:"inputContainer col-md-12 form-group"},React.createElement("input",{type:"file",className:"form-control",id:"org-logo",name:"org-logo",accept:"image/*"}),React.createElement("label",{className:"control-label",for:"org-logo"},r.org_logo))),React.createElement("div",{className:"row"},React.createElement("div",{className:"IATIOrgTypeContainer inputContainer col-md-6 form-group"},React.createElement("select",{name:"new_organisation_type",id:"new_organisation_type",className:"form-control"},React.createElement("option",{value:""}),React.createElement("option",{value:"10"},"10 - ",r.government),React.createElement("option",{value:"15"},"15 - ",r.other_public_sector),React.createElement("option",{value:"21"},"21 - ",r.international_ngo),React.createElement("option",{value:"22"},"22 - ",r.national_ngo),React.createElement("option",{value:"23"},"23 - ",r.regional_ngo),React.createElement("option",{value:"30"},"30 - ",r.public_private_partnership),React.createElement("option",{value:"40"},"40 - ",r.multilateral),React.createElement("option",{value:"60"},"60 - ",r.foundation),React.createElement("option",{value:"70"},"70 - ",r.private_sector),React.createElement("option",{value:"80"},"80 - ",r.academic_training_research)),React.createElement("label",{htmlFor:"newOrgIATIType",className:"control-label"},r.org_type,React.createElement("span",{className:"mandatory in-org-modal"},"*")),React.createElement("p",{className:"help-block"})),React.createElement("div",{className:"inputContainer col-md-6 form-group"},React.createElement("input",{name:"url",id:"url",type:"text",className:"form-control"}),React.createElement("label",{htmlFor:"url",className:"control-label"},r.website),React.createElement("p",{className:"help-block"},r.start_http))),React.createElement("div",{className:"row"},React.createElement("div",{className:"inputContainer orgLatitude col-md-4 form-group"},React.createElement("input",{name:"latitude",id:"latitude",type:"text",className:"form-control"}),React.createElement("label",{htmlFor:"latitude",className:"control-label"},r.latitude,React.createElement("span",{className:"mandatory in-org-modal"},"*")),React.createElement("p",{className:"help-block"})),React.createElement("div",{className:"inputContainer orgLongitude col-md-4 form-group"},React.createElement("input",{name:"longitude",id:"longitude",type:"text",className:"form-control"}),React.createElement("label",{htmlFor:"longitude",className:"control-label"},r.longitude,React.createElement("span",{className:"mandatory in-org-modal"},"*")),React.createElement("p",{className:"help-block"})),React.createElement("div",{className:"inputContainer orgCountry col-md-4 form-group"},React.createElement("select",{name:"iati_country",id:"iati_country",className:"form-control"},React.createElement("option",{value:""}),a),React.createElement("label",{htmlFor:"country",className:"control-label"},r.country,React.createElement("span",{className:"mandatory in-org-modal"},"*")),React.createElement("p",{className:"help-block"}))),React.createElement("div",{className:"row"},React.createElement("p",{className:"help-block"},r.use_link," ",React.createElement("a",{href:"http://www.latlong.net/",target:"_blank"},"http://www.latlong.net/")," ",r.coordinates)),React.createElement("div",{className:"row"},React.createElement("div",{className:"inputContainer col-md-6 form-group"},React.createElement("input",{name:"contact_person",id:"contact_person",type:"text",className:"form-control"}),React.createElement("label",{htmlFor:"contact_person",className:"control-label"},r.contact_person),React.createElement("p",{className:"help-block"})),React.createElement("div",{className:"inputContainer col-md-6 form-group"},React.createElement("input",{name:"contact_email",id:"contact_email",type:"text",className:"form-control"}),React.createElement("label",{htmlFor:"contact_email",className:"control-label"},r.contact_email),React.createElement("p",{className:"help-block"}))),React.createElement("div",{className:"row"},React.createElement("div",{className:"inputContainer col-md-12 form-group"},React.createElement("textarea",{id:"description",className:"form-control",name:"description",rows:"3"}),React.createElement("label",{className:"control-label",htmlFor:"description"},r.description),React.createElement("p",{className:"help-block"})))),React.createElement("div",{className:"controls"},React.createElement("button",{className:"modal-cancel btn btn-danger",onClick:e},React.createElement("span",{className:"glyphicon glyphicon-trash"})," ",r.cancel),React.createElement("button",{className:"modal-save btn btn-success",onClick:t},React.createElement("span",{className:"glyphicon glyphicon-floppy-disk"})," ",r.save))))))}});_(document.getElementById("panel3").querySelector(".save-button")),ReactDOM.render(React.createElement(a),document.querySelector("footer"))}function Ve(e){var t=e.getAttribute("id").split("-")[2],n="/rest/v1/project/"+r.project_id+"/remove_validation/"+t+"/?format=json",a=new XMLHttpRequest;a.open("DELETE",n),a.setRequestHeader("X-CSRFToken",o),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.onreadystatechange=function(){if(a.readyState!=XMLHttpRequest.DONE)return!1;200==a.status&&function(e){var t=document.getElementById("progress-bar"),r=t.getAttribute("validation-sets").split("-"),n=r.indexOf(e);n>-1&&(r.splice(n,1),t.setAttribute("validation-sets",r.join("-")),Se(),de(),he())}(t)},a.send()}function Ge(e){var t=e.getAttribute("id").split("-")[2];if(""!==t){var n="/rest/v1/project/"+r.project_id+"/add_validation/"+t+"/?format=json",a=new XMLHttpRequest;a.open("POST",n),a.setRequestHeader("X-CSRFToken",o),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.onreadystatechange=function(){if(a.readyState!=XMLHttpRequest.DONE)return!1;200==a.status&&function(e){var t=document.getElementById("progress-bar"),r=t.getAttribute("validation-sets").split("-");r.push(e),t.setAttribute("validation-sets",r.join("-")),Se(),de(),he()}(t)},a.send()}}function ze(e){return function(t){t.preventDefault(),e.hasAttribute("checked")?(Ve(e),e.removeAttribute("checked")):(Ge(e),e.setAttribute("checked",""))}}function Ke(e,t){if(e.classList&&e.classList.forEach){var r=!1;return e.classList.forEach(function(e){e.toString()!==t.toString()||(r=!0)}),r}return new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function $e(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function We(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function Qe(){var e,t;e=c,(t=new XMLHttpRequest).onreadystatechange=function(){if(t.readyState!=XMLHttpRequest.DONE)return!1;if(200==t.status){var r=JSON.parse(t.responseText);s[e]=r,M(e,r),ee()}},t.open("GET",e,!0),t.send(),function(){var e=i,t=new XMLHttpRequest;t.onreadystatechange=function(){if(t.readyState!=XMLHttpRequest.DONE)return!1;if(200==t.status){var r=JSON.parse(t.responseText);s[e]=r,M(e,r),Z()}},t.open("GET",e,!0),t.send()}(),window.onbeforeunload=function(e){var t,r;if(e=e||window.event,(t=Ye()).length>0){r="You have unsaved changes in the following section(s):\n\n";for(var n=0;n<t.length;n++)r+="\t• "+t[n]+"\n";return e&&(e.returnValue=r),r}},Be(),Me(),function(){var e=document.getElementById("validation-sets");if(null!==e)for(var t=e.querySelectorAll("input"),r=0;r<t.length;r++)t[r].onchange=ze(t[r])}(),De(),function(){for(var e=document.querySelectorAll(".save-button"),t=0;t<e.length;t++){var r=e[t].querySelector("button");r.addEventListener("click",N(r))}}(),Xe(),Pe(),function(){for(var e=document.getElementsByClassName("toggleSection"),t=document.querySelector(".formOverviewInfo"),r=document.querySelector(".formProgress"),n=0;n<e.length;n++)e[n].onclick=Oe(e[n]);if(null!==t){var a=t.querySelector(".panel-heading");a.onclick=He(a.parentNode)}if(null!==r){var o=r.querySelector(".panel-heading");o.onclick=He(o.parentNode)}}(),D(),Ee(),Ne(),w(),Y(),Le(),we(),Se(),ne(),de(),he(),ve(),function(){try{p=JSON.parse(p)}catch(e){p={}}}(),function e(t){if(!location.hash||""===location.hash)return;if(0==location.hash.indexOf("#step")){var r=document.querySelector(location.hash);if(!r)return;r.parentElement.firstElementChild.click(),r.parentElement.firstElementChild.scrollIntoView(),location.hash=""}else if(0==location.hash.indexOf("#result.")){var n=location.hash,a=document.getElementById(location.hash.substring(1));location.hash="#stepFive",e(),a.querySelector(".hide-partial-click").click(),t&&(a.classList.add("error-highlight"),a.scrollIntoView(),location.hash=n)}else if(0==location.hash.indexOf("#indicator.")){var n=location.hash,o=document.getElementById(location.hash.substring(1));location.hash="#"+h(o,"parent").getAttribute("id"),e(),o.querySelector(".hide-partial-click").click(),t&&(o.classList.add("error-highlight"),o.scrollIntoView(),location.hash=n)}else if(0==location.hash.indexOf("#indicator_period.")){var n=location.hash,l=document.getElementById(location.hash.substring(1));location.hash="#"+h(l,"parent").getAttribute("id"),e(),l.querySelector(".hide-partial-click").click(),t&&(l.classList.add("error-highlight"),l.scrollIntoView(),location.hash=n)}}(!0)}var Ze=function(e,t,r){var n=document.createElement("script");n.src=e,n.onload=t,n.onreadystatechange=t,r.appendChild(n)};document.addEventListener("DOMContentLoaded",function(){"undefined"!=typeof React&&"undefined"!=typeof ReactDOM&&"undefined"!=typeof ReactTypeahead&&"undefined"!=typeof DatePicker?Qe():function(){function e(){var e=document.getElementById("react-datepicker-compat").src;Ze(e,Qe,document.body)}function t(){var t=document.getElementById("react-onclickoutside").src;Ze(t,e,document.body)}function r(){var e=document.getElementById("react-typeahead").src;Ze(e,t,document.body)}console.log("No React, load again.");var n=document.getElementById("react").src;Ze(n,function(){var e=document.getElementById("react-dom").src;Ze(e,r,document.body)},document.body)}()})}});
//# sourceMappingURL=projectEditor.js.map