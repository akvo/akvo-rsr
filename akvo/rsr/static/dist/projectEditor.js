!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1068)}({1068:function(e,t,r){"use strict";var n=JSON.parse(document.getElementById("default-values").innerHTML),a=JSON.parse(document.getElementById("country-values").innerHTML);var o,l=function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var r=document.cookie.split(";"),n=0;n<r.length;n++){var a=r[n].trim();if(a.substring(0,e.length+1)==e+"="){t=decodeURIComponent(a.substring(e.length+1));break}}return t}("csrftoken"),i=2,c="/rest/v1/typeaheads/projects?format=json",s="/rest/v1/typeaheads/organisations?format=json",d={};d[c]=null,d[s]=null;var u=2592e6,p="cachedAPIResponses",m=localStorage.getItem(p),f=["related-project","humanitarian-scope","budget-item","condition","contact-information","country-budget-item","document","document-category","indicator","indicator-dimension","indicator-label","indicator-period","indicator-reference","indicator-period-actual-dimension","indicator-period-actual-location","indicator-period-target-dimension","indicator-period-target-location","link","partner","planned-disbursement","policy-marker","recipient-country","recipient-region","related-project","result","sector","transaction","transaction-sector","location-administrative","project-location","keyword","crs-add","crsadd-other-flag","fss","fss-forecast","legacy-data"],h=["input","select","textarea"];function v(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}function g(e,t){for(;(e=e.parentElement)&&e.tagName!==t.toUpperCase(););return e}function y(e){return null!==v(e,"parent")}function b(e){for(var t=[],r=0;r<e.elements.length;r++){var n=e.elements[r];""!==n.name&&Je(n)&&("INPUT"===n.nodeName?"text"!==n.type&&"number"!==n.type||(n.parentNode.classList.contains("typeahead")?t.push(n.name+"="+encodeURIComponent(n.getAttribute("value"))):t.push(n.name+"="+encodeURIComponent(n.value))):"TEXTAREA"!==n.nodeName&&"SELECT"!==n.nodeName||t.push(n.name+"="+encodeURIComponent(n.value)))}return t.join("&")}function S(e,t,r){e.removeAttribute("disabled");var n=v(e,"row").querySelector(".save-message"),a=document.createElement("div"),o=document.createElement("span");n.innerHTML="",o.classList.add("glyphicon"),t?(o.classList.add("glyphicon-ok-circle"),a.classList.add("save-success"),a.appendChild(o),setTimeout(function(){n.innerHTML=""},5e3)):(o.classList.add("glyphicon-remove-circle"),a.classList.add("help-block-error"),a.appendChild(o)),a.appendChild(document.createTextNode(" "+r)),n.appendChild(a)}function E(e){for(var t=0;t<e.length;t++)try{var r,n,a;r=e[t],(n=v(n=document.getElementById(r.name),"form-group")).classList.add("has-error");var o=document.createElement("p");o.className="help-block help-block-error",a=document.createTextNode(r.error),o.appendChild(a),n.appendChild(o);for(var l=y(n),i=n;l;)(i=v(i,"parent")).querySelector(".hide-partial").classList.contains("hidden")&&i.querySelector(".hide-partial-click").click(),l=y(i);0===t&&(document.getElementById(r.name).scrollIntoView(),window.scrollBy(0,-100))}catch(e){}}function A(e){var t=v(e,"form-group");t.classList.add("has-success"),setTimeout(function(){t.classList.remove("has-success")},5e3)}function _(e){for(var t=0;t<e.length;t++){var r=document.getElementById(e[t].old_id),n=e[t].old_id.split(".")[0]+"."+e[t].new_id;r.setAttribute("id",n),r.querySelector(".unicode").innerHTML=e[t].unicode;for(var a=r.querySelectorAll(h.join()),o=0;o<a.length;o++){var l=a[o];if("checkbox"!==l.type){var i=v(l,"parent"),c=l.getAttribute("id").split(".");if(i===r)c[2]=e[t].new_id,l.setAttribute("id",c.join(".")),l.setAttribute("name",c.join("."));else{var s=i.getAttribute("id"),d=!1;if(s.indexOf("new")>-1){for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)&&e[u].old_id===s){d=!0;break}if(!d){var p=e[t].old_id.split(".")[1].split("_").length-1,m=c[2].split("_");m[p]=e[t].new_id,c[2]=m.join("_"),l.setAttribute("id",c.join(".")),l.setAttribute("name",c.join("."));var f=s.split(".");f[1]=m.join("_"),i.setAttribute("id",f.join("."))}}}}}}}function N(e){var t,r,a,o,i;r=g(e,"form"),a=b(r),function(e){var t,r;t=e.querySelectorAll(".help-block-error"),r=e.querySelectorAll(".has-error");for(var n=t.length;n>0;n--){var a=t[n-1];a.parentNode.removeChild(a)}for(var o=r.length;o>0;o--){var l=r[o-1];l.className=l.className.replace("has-error","")}}(r),function(e){e.setAttribute("disabled",""),v(e,"row").querySelector(".save-message").innerHTML=n.saving+"..."}(e),t="/rest/v1/project/"+n.project_id+"/project_editor/?format=json",(o=new XMLHttpRequest).open("POST",t,!0),o.setRequestHeader("X-CSRFToken",l),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.onload=function(){if(o.status>=200&&o.status<400){var t;(t=JSON.parse(o.responseText)).errors.length>0?(i=n.save_error,E(t.errors),S(e,!1,i)):(i=n.save_success,S(e,!0,i));for(var l=0;l<t.changes.length;l++){var c=document.getElementById(t.changes[l][0]);if(c.setAttribute("saved-value",t.changes[l][1]),null!==c.parentNode&&$e(c.parentNode,"typeahead"))v(c.parentNode,"typeahead-container").setAttribute("data-value",t.changes[l][1]);if(c.id.indexOf("rsr_indicator")>-1&&n.default_indicator>-1){var s=v(c.parentNode,"indicator-item");s.classList.contains("default-period-buttons-set")||s.querySelector(".reload-warning").classList.remove("hidden")}A(c)}return _(t.rel_objects),de(v(r,"formStep")),ue(),U(),a.indexOf("rsr_indicator")>-1&&we(),a.indexOf("rsr_result")>-1&&je(),!1}return 403===o.status?(i=n.save_forbidden,S(e,!1,i),!1):(i=n.save_general_error,S(e,!1,i),!1)},o.onerror=function(){return i=n.connection_error,S(e,!1,i),!1},o.send(a)}function q(e){return function(t){t.preventDefault(),N(e)}}function R(){var e=document.getElementById("delete-photo");null!==e&&(e.onclick=function(t){t.preventDefault();var r=e.parentNode;r.removeChild(e);var a=document.getElementById("rsr_project.current_image."+n.project_id);v(a,"form-group").classList.remove("has-error");var o=v(a,"form-group").querySelector(".help-block-error");null!==o&&o.parentNode.removeChild(o);var i="/rest/v1/project/"+n.project_id+"/?format=json",c=new XMLHttpRequest;c.open("PATCH",i,!0),c.setRequestHeader("X-CSRFToken",l),c.setRequestHeader("Content-type","application/json"),c.onload=function(){if(c.status>=200&&c.status<400){var t=document.getElementById("img-photo");return t.parentNode.removeChild(t),a.setAttribute("saved-value",""),a.value="",de(v(a,"formStep")),ue(),!1}return r.appendChild(e),E([{name:"rsr_project.current_image."+n.project_id,error:n.file_delete_error}]),!1},c.onerror=function(){return!1},c.send('{"current_image": null}')})}function C(e){var t=e.parentNode.querySelector(".delete-document");null!==t&&(t.onclick=function(e){e.preventDefault();var r=t.parentNode;r.removeChild(t);var a=r.querySelector("input");v(a,"form-group").classList.remove("has-error");var o=v(a,"form-group").querySelector(".help-block-error");null!==o&&o.parentNode.removeChild(o);var i="/rest/v1/project_document/"+a.getAttribute("id").split(".").pop()+"/?format=json",c=new XMLHttpRequest;c.open("PATCH",i,!0),c.setRequestHeader("X-CSRFToken",l),c.setRequestHeader("Content-type","application/json"),c.onload=function(){if(c.status>=200&&c.status<400){var e=r.querySelector(".document-preview");return e.parentNode.removeChild(e),a.setAttribute("saved-value",""),a.value="",de(v(a,"formStep")),ue(),!1}return r.appendChild(t),E([{name:a.getAttribute("id"),error:n.file_delete_error}]),!1},c.onerror=function(){return!1},c.send('{"document": null}')})}function L(e){if(null!==e){var t,r,n,a;if(null!==(t=document.querySelector("#img-photo")))t.parentNode.removeChild(t),null!==(a=document.querySelector("#delete-photo"))&&a.parentNode.removeChild(a);n='<img src="'+e+'" class="current-project-photo" id="img-photo"><a class="btn btn-link delete-photo-button" id="delete-photo"><span class="glyphicon glyphicon-remove"></span> Delete photo</a>',(r=document.querySelector("#photo-container")).innerHTML=n+r.innerHTML,R()}}function w(e,t){if(null!==e){var r,a=t.parentNode,o=a.querySelector(".document-preview");if(null!==o)o.parentNode.removeChild(o),null!==(r=document.querySelector(".delete-document"))&&r.parentNode.removeChild(r);var l=document.createElement("a");l.setAttribute("class","document-preview"),l.setAttribute("target","_blank"),l.setAttribute("href",e);var i=document.createTextNode(n.uploaded_document);l.appendChild(i),a.appendChild(l);var c=document.createElement("a");c.setAttribute("class","delete-document");var s=document.createElement("span");s.setAttribute("class","glyphicon glyphicon-remove"),c.appendChild(s),a.appendChild(c),C(t)}}function j(){for(var e=document.querySelectorAll("input"),t=0;t<e.length;t++)"file"===e[t].type&&(e[t].getAttribute("id")==="rsr_project.current_image."+n.project_id?(e[t].onchange=k(e[t],2,"photo"),R()):(e[t].onchange=k(e[t],5,"document"),C(e[t])));return!1}function k(e,t,r){return function(a){a.preventDefault();for(var o=e.parentNode.querySelectorAll(".help-block-error"),i=0;i<o.length;i++)o[i].parentNode.removeChild(o[i]);e.parentNode.classList.remove("has-error");var c,s,d=e.files[0];if(!function(e,t){return e.size<1024*t*1024}(d,t))return s=d.size/1024/1024,c=n.file_size+": "+s.toFixed(2)+" MB. ",c+=n.file_size_allowed+" "+t.toString()+" MB.",E([{name:e.getAttribute("id"),error:c}]),!1;if("photo"===r&&!d.name.match(/\.(jpg|jpeg|png|gif)$/i))return E([{name:e.getAttribute("id"),error:n.image_file_format+": jpg, jpeg, png, gif"}]),!1;var u="/rest/v1/project/"+n.project_id+"/upload_file/?format=json",p=new FormData;p.append("file",d),p.append("field_id",e.getAttribute("id"));var m=new XMLHttpRequest,f=v(e,"form-group").querySelector(".file-progress");m.upload&&(f.classList.remove("hidden"),m.upload.addEventListener("progress",function(e){var t=f.querySelector(".progress-bar"),r=parseInt(e.loaded/e.total*100);t.setAttribute("aria-valuenow",r),t.style.width=r+"%",t.innerHTML=r+"%"},!1)),m.open("POST",u),m.setRequestHeader("X-CSRFToken",l),m.onload=function(){if(f.classList.add("hidden"),m.status>=200&&m.status<400){var t=JSON.parse(m.responseText);t.errors.length>0&&E(t.errors);for(var a=0;a<t.changes.length;a++){"photo"===r?L(t.changes[a][1]):w(t.changes[a][1],e);var o=document.getElementById(t.changes[a][0]);o.setAttribute("saved-value",t.changes[a][1]),A(o)}_(t.rel_objects),de(v(e,"formStep")),ue()}else E([{name:e.getAttribute("id"),error:n.save_general_error}]);return!1},m.onerror=function(){return f.classList.add("hidden"),E([{name:e.getAttribute("id"),error:n.connection_error}]),!1},m.send(p)}}function T(){var e,t;e="/rest/v1/project/"+n.project_id+"/?format=json",(t=new XMLHttpRequest).open("GET",e,!0),t.setRequestHeader("X-CSRFToken",l),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.onload=function(){if(!(t.status>=200&&t.status<400))return!1;var e,r;e=JSON.parse(t.responseText);try{r=e.budget,document.getElementById("total-budget").innerHTML=r}catch(e){return!1}},t.onerror=function(){return!1},t.send()}function x(e,t){var r=e.querySelector(".delete-related-object-container");if(t){var a=document.createElement("div");a.setAttribute("style","color: red; margin-left: 5px;"),a.innerHTML=n.delete_error,r.appendChild(a)}var o=document.createElement("a");o.setAttribute("class","delete-related-object"),o.onclick=H(o);var l=document.createElement("span");l.setAttribute("class","glyphicon glyphicon-trash"),o.appendChild(l),r.appendChild(o)}function I(e,t,r){return function(a){a.preventDefault();var o,i,c,s,d=e.parentNode;d.parentNode.removeChild(d),o=t,i=r,g(c=document.getElementById(i+"."+o),"form"),s=new XMLHttpRequest,"keyword"===i?s.open("DELETE","/rest/v1/project/"+n.project_id+"/remove_keyword/"+o+"/?format=json",!0):s.open("DELETE","/rest/v1/"+i+"/"+o+"/?format=json",!0),s.setRequestHeader("X-CSRFToken",l),s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.onload=function(){return s.status>=200&&s.status<400?(c.parentNode.removeChild(c),"budget-item"===i?T():"result"===i?je():"indicator"===i&&we(),ue(),ve(),U(),!1):(x(c,!0),!1)},s.onerror=function(){return x(c,!0),!1},s.send()}}function H(e){return function(t){t.preventDefault();var r=v(e,"parent"),a=r.parentNode,o=r.getAttributeNode("id").value.split("."),l=o[0],i=o[1];if(i.indexOf("new")>-1)a.removeChild(r),ue(),ve(),U();else{var c=e.parentNode;c.removeChild(e);var s=document.createElement("div");s.setAttribute("class","sure-message"),s.innerHTML=n.sure_message;var d=document.createElement("a");d.setAttribute("style","color: green; margin-left: 5px;"),d.onclick=I(d,i,l),d.innerHTML=n.yes;var u=document.createElement("a");u.setAttribute("style","color: red; margin-left: 5px;"),u.onclick=function(e){return function(t){t.preventDefault();var r=e.parentNode,n=r.parentNode;n.removeChild(r),x(v(n,"parent"),!1)}}(u),u.innerHTML=n.no,s.appendChild(d),s.appendChild(u),c.appendChild(s)}}}function O(e){$e(e,"section-state-updated")||(ae(),Se(e),se(e),U(),ve(),fe(e),ue(),We(e,"section-state-updated"))}function M(){document.querySelectorAll(".myPanel").forEach(function(e){O(e)})}function B(e,t){var r,n,a;null!==m&&""!==m||(m={}),r={},n=(n=new Date).getTime(),r.date=n,r.json=t,m[e]=r,a=JSON.stringify(m);try{localStorage.setItem(p,a)}catch(e){localStorage.setItem(p,JSON.stringify({}))}}function D(e,t,r,a,l,i,c,s){!function(e,t,r,a,o,l,i,c,s,d){var u,p,m,f,h,v;if(u=ReactTypeahead.Typeahead,"project"===d?(e.forEach(function(e){e.filterOption=e.id+" "+e.title,e.displayOption=e.title+" (ID: "+e.id+")"}),s="filterOption",r="displayOption"):"org"===d&&(e.forEach(function(e){var t,r,n=(t=e.name,r=e.long_name,t===r?t:r?t+" ("+r+")":t);e.filterOption=e.name+" "+e.long_name,e.displayOption=n}),s="filterOption",r="displayOption"),h="form-control "+o,f=document.getElementById(a),p=React.createClass({displayName:"TypeaheadContainer",getInitialState:function(){return{focusClass:"inactive"}},onKeyUp:function(){"org"===d&&this.setState({focusClass:"active"})},onBlur:function(){this.setState({focusClass:"inactive"})},render:function(){return React.createElement("div",{className:this.state.focusClass},React.createElement(u,{placeholder:"",options:e,onOptionSelected:t,maxVisible:10,displayOption:r,filterOption:s,childID:a,onKeyUp:this.onKeyUp,onBlur:this.onBlur,customClasses:{typeahead:"",input:h,results:"",listItem:"",token:"",customAdd:""},inputProps:{name:a,id:a}}),React.createElement("div",{className:"addOrg",onMouseDown:Ve},"+ "+n.add_new_organisation))}}),document.querySelector("footer").setAttribute("selector",a),ReactDOM.render(React.createElement(p),f),f.removeAttribute("id"),(v=f.querySelector(".typeahead input")).setAttribute("autocomplete","off"),v.setAttribute("id",a),null!==l)for(var g=0;g<e.length;g++){var y;parseInt(e[g].id,10)==parseInt(l,10)&&(y=e[g],v.value=y[r],v.setAttribute("value",y.id),f.hasAttribute("not-saved")?(f.removeAttribute("not-saved"),v.setAttribute("saved-value","")):v.setAttribute("saved-value",y.id))}else v.setAttribute("saved-value","");(m=f.querySelector(".typeahead")).appendChild(i),m.appendChild(c),We(f,"has-typeahead")}(e.results,function(e){document.getElementById(t).setAttribute("value",e.id)},function(e,t){return e[c]},t,r,a,l,i,c,s),clearTimeout(o),o=setTimeout(M,1e3)}function P(){for(var e=0;e<f.length;e++)for(var t=f[e],r=document.querySelectorAll(".add-"+t),n=0;n<r.length;n++){var a,o=r[n];$e(o,"has-onclick")||(a=Q(t,v(o,t+"-container")),o.addEventListener("click",a),We(o,"has-onclick"))}for(var l=document.querySelectorAll(".delete-related-object"),i=0;i<l.length;i++)l[i].onclick=H(l[i]);for(var c=document.querySelectorAll(".hide-partial-click"),s=0;s<c.length;s++)c[s].onclick=$(c[s]);for(var d=document.querySelectorAll("select"),u=0;u<d.length;u++)if("progress-bar-select"!==d[u].getAttribute("id")){var p=d[u].getAttribute("id").split(".");"rsr_partnership"==p[0]&&"iati_organisation_role"==p[1]&&(d[u].onchange=V(d[u])),"rsr_budgetitem"==p[0]&&"label"==p[1]&&(d[u].onchange=Y(d[u])),"rsr_indicator"==p[0]&&"type"==p[1]&&(d[u].onchange=function(e){G(e.target),K(e.target),z(e.target)})}for(var m=document.querySelectorAll(".info-icon-special"),h=0;h<m.length;h++)m[h].onclick=J(m[h]);for(var g=document.querySelectorAll(".document-toggle"),y=0;y<g.length;y++)g[y].onchange=F(g[y]);for(var b=document.querySelectorAll(".related-project-toggle"),S=0;S<b.length;S++)b[S].onchange=X(b[S])}function X(e){return function(t){t.preventDefault();var r=v(e,"parent"),n=v(r.querySelectorAll("input")[0],"form-group"),a=v(r.querySelectorAll("input")[1],"form-group");e.checked?(a.classList.remove("hidden"),n.classList.add("hidden")):(a.classList.add("hidden"),n.classList.remove("hidden"))}}function F(e){return function(t){t.preventDefault();var r=v(e,"parent"),n=v(r.querySelectorAll("input")[0],"form-group"),a=v(r.querySelectorAll("input")[1],"form-group");e.checked?(a.classList.remove("hidden"),a.classList.remove("always-hidden"),n.classList.add("hidden"),n.classList.add("always-hidden")):(a.classList.add("hidden"),a.classList.add("always-hidden"),n.classList.remove("hidden"),n.classList.remove("always-hidden"))}}function J(e){return function(t){t.preventDefault(),t.stopPropagation?t.stopPropagation():t.cancelBubble=!0;var r=document.getElementById(e.getAttribute("toggleid"));r.classList.contains("hidden")?(r.classList.remove("hidden"),e.classList.add("activated")):(r.classList.add("hidden"),e.classList.remove("activated"))}}function Y(e){return function(t){t.preventDefault();v(e,"parent");var r=e.getAttribute("id").split("."),n=[r[0],"other_extra",r[2]].join("."),a=document.getElementById(n);"Other"===e.options[e.selectedIndex].text&&a.hasAttribute("disabled")?a.removeAttribute("disabled"):"Other"===e.options[e.selectedIndex].text||a.hasAttribute("disabled")||(a.setAttribute("disabled",""),a.value="")}}function U(){if(!n.is_admin){var e,t=document.getElementById("partner-container");if(null!==t){var r=t.querySelectorAll(".parent");if(1===r.length)$e(e=r[0].querySelector(".delete-related-object"),"hidden")||We(e,"hidden");else{for(var a,o,l,i=!1,c=0;c<r.length;c++)o=r[c].getAttribute("id").split(".")[1],"101"===(l=document.getElementById("rsr_partnership.iati_organisation_role."+o)).value&&(i=!0),$e(e=r[c].querySelector(".delete-related-object"),"hidden")&&Qe(e,"hidden");if(!0===i){for(var s=0;s<r.length;s++)if(o=r[s].getAttribute("id").split(".")[1],"101"!==(l=document.getElementById("rsr_partnership.iati_organisation_role."+o)).value){a=l.querySelectorAll("option");for(var d=0;d<a.length;d++)"101"===a[d].getAttribute("value")&&a[d].parentNode.removeChild(a[d])}}else for(var u=0;u<r.length;u++){o=r[u].getAttribute("id").split(".")[1];var p=!1;a=(l=document.getElementById("rsr_partnership.iati_organisation_role."+o)).querySelectorAll("option");for(var m=0;m<a.length;m++)"101"===a[m].getAttribute("value")&&(p=!0);if(!1===p){var f=document.createElement("option");f.setAttribute("value","101");var h=document.createTextNode(n.reporting_org);f.appendChild(h),l.appendChild(f)}}for(var v=[],g=0;g<r.length;g++){var y=r[g].querySelector(".typeahead");if(null!==y){var b=y.querySelector("input").getAttribute("saved-value");n.org_permissions.indexOf(parseInt(b))>-1&&v.push(r[g].querySelector(".delete-related-object"))}}if(1!==v.length||$e(v[0],"hidden")){if(v.length>1)for(var S=0;S<v.length;S++)$e(v[S],"hidden")&&Qe(v[S],"hidden")}else We(v[0],"hidden")}}}}function V(e){return function(t){t.preventDefault();var r=v(e,"parent"),n=e.getAttribute("id").split("."),a=[n[0],"funding_amount",n[2]].join("."),o=document.getElementById(a),l=v(o,"form-group"),i=[n[0],"is_secondary_reporter",n[2]].join("."),c=v(document.getElementById(i),"form-group");"101"!==e.value?("1"===e.value&&o.hasAttribute("disabled")?o.removeAttribute("disabled"):"1"!==e.value&&(o.setAttribute("disabled",""),o.value=""),$e(l,"hidden")&&(Qe(l,"hidden"),Qe(l,"always-hidden"),We(c,"hidden"),We(c,"always-hidden"))):$e(c,"hidden")&&(Qe(c,"hidden"),Qe(c,"always-hidden"),We(l,"hidden"),We(l,"always-hidden")),U(),Se(r)}}function G(e){var t=v(e,"parent").getElementsByClassName("measure")[0];"2"===e.value?(We(t,"hidden"),t.querySelector("select").selectedIndex=1):Qe(t,"hidden")}function z(e){var t=v(e,"parent").getElementsByClassName("indicator-label-container")[0].parentNode;"2"!==e.value?We(t,"label-hidden"):Qe(t,"label-hidden")}function K(e){var t=v(e,"parent").querySelector(".indicator-dimension-container"),r=t.parentElement;"2"===e.value?(We(t,"hidden"),We(r,"hidden")):(Qe(t,"hidden"),Qe(r,"hidden"))}function $(e){return function(t){var r,n;t.preventDefault(),r=e.parentNode.parentNode.getElementsByClassName("hide-partial")[0],"-"===(n=e.getElementsByClassName("folded-sign")[0]).innerHTML?(n.innerHTML="+",r.className+=" hidden"):(n.innerHTML="-",r.className=r.className.replace("hidden",""))}}function W(e,t){var r=e.getAttribute("id").split(".");e.setAttribute("id",[r[0],t].join("."));for(var n=e.querySelectorAll(h.join()),a=0;a<n.length;a++)if("checkbox"!==n[a].type&&-1===n[a].className.indexOf("masquerade-field")){var o=n[a].getAttribute("id").split(".");n[a].setAttribute("id",[o[0],o[1],t].join(".")),n[a].setAttribute("name",[o[0],o[1],t].join("."))}for(var l=e.querySelectorAll(".typeahead-container"),i=0;i<l.length;i++){var c=l[i].getAttribute("data-child-id").split("."),s=c[2];l[i].setAttribute("data-child-id",[c[0],c[1],t].join(".")),l[i].setAttribute("id",[c[0],c[1],t].join("."));for(var d=l[i].parentNode.classList,u=0;u<d.length;u++)d[u].indexOf(s)>-1&&(d.add([c[0],c[1],t].join("_")),d.remove(d[u]));for(var p=l[i].getAttribute("data-child-class").trim().split(" "),m=0;m<p.length;m++)if(p[m].indexOf(s)>-1){var f=[c[0],c[1],t].join("_");p.splice(m,1),p.push(f);break}l[i].setAttribute("data-child-class",p.join(" "))}for(var v=e.querySelectorAll(".datepicker-container"),g=0;g<v.length;g++){var y=v[g].getAttribute("data-id").split(".");v[g].setAttribute("data-id",[y[0],y[1],t].join("."))}}function Q(e,t){return function(r){r.preventDefault();var a="#"+e+"-input",o=document.querySelector(a).innerHTML,l=(new DOMParser).parseFromString(o,"text/html").querySelector(".parent"),i=t.querySelector(".add-"+e).parentNode.parentNode;t.insertBefore(l,i);var c,s,d="new-"+document.querySelectorAll("."+e+"-item").length,u=function(e,t){for(var r=0;r<e.length;r++)for(var n=0;n<e[r].length;n++)if(e[r][n]===t)return e[r].splice(0,n+1),[n+1,e[r]];return[-1,!1]}([["result","indicator","indicator-period","indicator-period-actual-dimension"],["result","indicator","indicator-period","indicator-period-actual-location"],["result","indicator","indicator-period","indicator-period-target-dimension"],["result","indicator","indicator-period","indicator-period-target-location"],["result","indicator","indicator-dimension"],["result","indicator","indicator-label"],["result","indicator","indicator-reference"],["transaction","transaction-sector"],["project-location","location-administrative"],["document","document-category"],["crs-add","crsadd-other-flag"],["fss","fss-forecast"]],e),p=l.getAttribute("id").split(".")[1];if(W(l,d=p.substring(0,p.length-5)+d),1===u[0]){c=l.querySelector(".parent");var m=[d,"new-"+(s=document.querySelectorAll("."+u[1][0]+"-item").length).toString()].join("_");if(W(c,m),u[1].length>1)for(var f=c.querySelectorAll(".parent"),h=document.querySelectorAll("."+u[1][1]+"-item").length,g=0;g<f.length;g++)if(W(f[g],[m,"new-"+h.toString()].join("_")),u[1].length>2)for(var y=f[g].querySelectorAll(".parent"),b=document.querySelectorAll("."+u[1][2]+"-item").length,S=0;S<y.length;S++)W(y[S],[m,"new-"+h.toString(),"new-"+b.toString()].join("_"))}else if(u[0]>1){if(L=(C=v(t,"parent")).getAttribute("id").split(".")[1],d="new-"+document.querySelectorAll("."+e+"-item").length,L.indexOf("_")>-1)d=[L,d].join("_");else if(2===u[0])d=[n.project_id,L,d].join("_");else{var E=v(C,"parent").getAttribute("id").split(".")[1];d=[n.project_id,E,L,d].join("_")}if(W(l,d),u[1].length>0){var A=l.querySelectorAll(".parent");s=document.querySelectorAll("."+u[1][0]+"-item").length;for(var _=0;_<A.length;_++)if(W(A[_],[d,"new-"+s.toString()].join("_")),u[1].length>1)for(var N=A[_].querySelectorAll(".parent"),q=document.querySelectorAll("."+u[1][1]+"-item").length,R=0;R<N.length;R++)W(N[R],[d,"new-"+s.toString(),"new-"+q.toString()].join("_"))}}var C,L,w,k=document.getElementById("rsr_project.currency."+n.project_id),T=l.querySelectorAll(".currency-display"),x="EUR";null!==k&&(x=k.value);for(var I=0;I<T.length;I++)T[I].innerHTML=x;te(w),ee(),Fe(),Xe(),Ae(),qe(),re("."+e+"-container"),ue(),ve(),ge(),Ee(),P(),j(),U()}}function Z(e,t,r,n,a,o,l){function c(e,t,r,n,o,l,c,s){return function(){!function e(t,r,n,a,o){var l;if(null===d[t]||o){if(null!==m&&""!==m&&!o&&void 0!==m[t]){var i=m[t];if(c=i.date,s=u,(new Date).getTime()-c<=s)return void a(i.json)}var c,s;(l=new XMLHttpRequest).onreadystatechange=function(){if(l.readyState!=XMLHttpRequest.DONE)return!1;if(200==l.status){var o=JSON.parse(l.responseText);d[t]=o,B(t,o),a(o)}else{if(r>=n)return!1;e(t,r+=1,n,a)}},l.open("GET",t,!0),l.send()}else a(d[t])}(a,0,i,function(e,t,r,n,a,o,l){return function(i){D(i,e,t,r,n,a,o,l)}}(e,t,r,n,o,l,c),s)}}for(var s=0;s<e.length;s++){var p=e[s];if($e(p,"has-typeahead")){if(!l)continue;var f=p.querySelector("div");p.removeChild(f),p.setAttribute("id",p.getAttribute("data-child-id"))}var h=p.getAttribute("data-child-id"),v=p.getAttribute("data-child-class"),g=null,y=document.createElement("label"),b=document.createElement("p");y.setAttribute("for",h),We(y,"control-label"),We(y,"typeahead-label"),y.textContent=r,We(b,"help-block"),We(b,"hidden"),b.textContent=n,""!==p.getAttribute("data-value")&&(g=p.getAttribute("data-value")),c(h,v,g,y,b,t,o,l)()}}function ee(){Z(document.querySelectorAll(".rsr_relatedproject-related_project"),"title",n.related_project_label,n.related_project_helptext,c,"project")}function te(e){Z(document.querySelectorAll(".rsr_partnership-organisation"),"name",n.partner_label,n.partner_helptext,s,"org",e),Z(document.querySelectorAll(".rsr_transaction-provider_organisation"),"name",n.provider_org_label,n.provider_org_helptext,s,"org",e),Z(document.querySelectorAll(".rsr_transaction-receiver_organisation"),"name",n.recipient_org_label,n.recipient_org_helptext,s,"org",e),Z(document.querySelectorAll(".rsr_planneddisbursement-provider_organisation"),"name",n.provider_org_label,n.provider_org_helptext,s,"org",e),Z(document.querySelectorAll(".rsr_planneddisbursement-receiver_organisation"),"name",n.recipient_org_label,n.recipient_org_helptext,s,"org",e)}function re(e){for(var t,r=document.querySelectorAll(e+" label.control-label"),n=0;n<r.length;n++){var a,o,l,i,c=r[n];if(!$e(c,"has-icon")){o=!0;var s=c.parentNode.querySelectorAll(".help-block").length,d=c.parentNode.parentNode.querySelectorAll(".help-block").length;if(0===s){if(1!==d)continue;o=!1}i=o?c.parentNode.querySelector(".help-block"):c.parentNode.parentNode.querySelector(".help-block"),l=["glyphicon","glyphicon-info-sign","info-icon"],(t=i).offsetWidth>0&&t.offsetHeight>0&&l.push("activated"),a=document.createElement("span");for(var u=0;u<l.length;u++)We(a,l[u]);c.appendChild(a);for(var p=c.querySelectorAll(".info-icon"),m=0;m<p.length;m++)p[m].onclick=ne(p[m],o);We(c,"has-icon")}}}function ne(e,t){return function(r){var n;r.preventDefault(),n=t?e.parentNode.parentNode.querySelector(".help-block"):e.parentNode.parentNode.parentNode.querySelector(".help-block"),$e(e,"activated")?(Qe(e,"activated"),n.style.display="none"):(We(e,"activated"),$e(n,"hidden")&&Qe(n,"hidden"),n.style.display="block")}}function ae(){re(".projectEdit")}function oe(){return document.getElementById("progress-bar").getAttribute("validation-sets").split("-")}function le(e){return(e.getAttribute("name")!=="rsr_project.iati_status."+n.project_id||"0"!==e.value)&&("checkbox"!==e.type&&("file"===e.type&&""!==e.getAttribute("saved-value")||""!==e.value))}function ie(e){for(var t=e.querySelectorAll(h.join()),r=0;r<t.length;r++)if(le(t[r]))return!0;return!1}function ce(e){for(var t=oe(),r=[],n=0;n<t.length;n++){var a=t[n];if($e(e,"hidden-"+a))r.push(a);else for(var o=v(e,"related-object-container");null!==o;)$e(o,"hidden-"+a)?(r.push(a),o=null):o=v(o,"related-object-container")}return t.length===r.length}function se(e){for(var t=(e=e||document).querySelectorAll(h.join()),r=0;r<t.length;r++){var n=v(t[r],"form-group");null!==n&&(ce(t[r])||$e(n,"always-hidden")?We(n,"hidden"):Qe(n,"hidden"))}for(var a=e.querySelectorAll(".related-object-container"),o=0;o<a.length;o++){var l=a[o];ce(l)?We(l,"hidden"):Qe(l,"hidden")}for(var i=document.querySelectorAll(".myPanel"),c=0;c<i.length;c++){var s=i[c];ce(s)?We(s,"hidden"):Qe(s,"hidden")}}function de(e){var t=pe(e),r=t[0],n=t[1];0!==r?me(n,r,e):me(1,1,e)}function ue(){var e=pe(document.querySelector(".projectEdit")),t=e[0],r=me(e[1],t,document.querySelector(".progress-and-publish"));if(n.can_create_projects){var a=document.getElementById("publishProject");null!==a&&(100!==r&&"unpublished"===a.getAttribute("status")?a.setAttribute("disabled",""):a.removeAttribute("disabled"))}}function pe(e){function t(e){for(var t=oe(),r=0;r<t.length;r++)for(var n="mandatory-"+t[r]+"-or-",a=e.classList,o=0;o<a.length;o++)if(a[o].indexOf(n)>-1){var l=a[o].replace(n,""),i=e.getAttribute("id").split("."),c=[i[0],l,i[2]].join(".");return document.getElementById(c)}return null}for(var r=0,n=0,a=[],o=e.querySelectorAll("span.mandatory"),l=0;l<o.length;l++)if(!$e(o[l],"mandatory-block")){var i=v(o[l],"form-group");if(null===i){var c=v(o[l],"parent");null!==c?ie(c)&&(r+=1):r+=1;for(var s=v(o[l],"related-object-container").querySelectorAll(".parent"),d=0;d<s.length;d++){if(ie(s[d])){n+=1;break}}}else{for(var u=null,p=0;p<h.length&&null===(u=i.querySelector(h[p]));p++);if(null===u)continue;if(null!==u.getAttribute("disabled"))continue;var m=v(u,"parent");if(null!==m&&!ie(m))continue;r+=1;var f=t(u);null===f?le(u)&&(n+=1):a.indexOf(f)>-1?le(f)?n+=1:le(u)&&(n+=2):le(u)&&(n+=1),a.push(u)}}return[r,n]}function me(e,t,r){var n,a;return 0===(n=Math.floor(e/t*100))&&(n=1),r.querySelector(".progress-bar").setAttribute("aria-valuenow",n),r.querySelector(".progress .sr-only").textContent=n+"% Complete",r.querySelector("div.progress-bar").style.width=n+"%",n<10?a="empty":n<100?a="incomplete":100===n&&(a="complete"),r.querySelector("div.progress-bar").setAttribute("data-completion",a),n}function fe(e){for(var t=e.querySelectorAll(h.join()),r=0;r<t.length;r++){var n,a=t[r];$e(a,"has-listener")||(n=he(e,a),a.addEventListener("change",n))}}function he(e,t){return function(){de(e),We(t,"has-listener"),ue(),Se(v(t,"parent")||e)}}function ve(){for(var e=document.querySelectorAll(".formStep"),t=0;t<e.length;t++)de(e[t])}function ge(){for(var e=document.querySelectorAll(".formStep"),t=0;t<e.length;t++)fe(e[t])}function ye(e,t){var r=v(e,"form-group");if(null===r.querySelector("span.mandatory-block")){var a=document.createElement("span");a.setAttribute("class","mandatory-block mandatory"),a.textContent="*"+n.or_mandatory_1+" "+t+" "+n.or_mandatory_2+".",r.appendChild(a)}}function be(e){var t,r=v(e,"form-group");if(null===(t=null!==r?r.querySelector("label"):e.querySelector("h5")).querySelector("span.mandatory")){var n=document.createElement("span");n.setAttribute("class","mandatory"),n.textContent="*",t.appendChild(n)}}function Se(e){for(var t=(e=e||document).querySelectorAll(".mandatory:not(.in-org-modal)"),r=0;r<t.length;r++)t[r].parentNode.removeChild(t[r]);for(var n=oe(),a=0;a<n.length;a++)for(var o=".mandatory-"+n[a],l=e.querySelectorAll(o),i=0;i<l.length;i++)if(!l[i].hasAttribute("disabled")&&!v(l[i],"always-hidden")&&(!y(l[i])||ie(v(l[i],"parent"))||y(l[i])&&$e(v(l[i],"related-object-container"),"mandatory-"+n[a]))){be(l[i]);for(var c=o.replace(".","")+"-or-",s=l[i].classList,d=0;d<s.length;d++)if(s[d].indexOf(c)>-1){var u=s[d].replace(c,""),p=u.replace(/_/g," "),m=l[i],f=m.id.split("."),h=document.querySelector("#"+[f[0],u,f[2]].join("\\."));""===m.value&&""===h.value&&ye(m,p)}}}function Ee(){function e(e){return function(){var t,r;if(t=parseInt(e.getAttribute("maxlength"),10)-e.value.length,r="",0===e.parentNode.querySelectorAll(".charsLeft").length){var n=document.createElement("span");We(n,"charsLeft"),e.parentNode.appendChild(n)}r=1===t?" character remaining":" characters remaining",e.parentNode.querySelector(".charsLeft").style.display="",e.parentNode.querySelector(".charsLeft").textContent=t+r}}function t(e){var t,r=e.parentNode;return t=function(){var e=r.querySelector(".charsLeft");e&&(e.style.display="none")},function(){setTimeout(t,250)}}for(var r,n,a=document.querySelectorAll("input"),o=document.querySelectorAll("textarea"),l=0;l<a.length;l++){var i=a[l];$e(i,"validation-listener")||"text"===i.getAttribute("type")&&i.hasAttribute("maxlength")&&(r=e(i),n=t(i),i.addEventListener("input",r),i.addEventListener("focusout",n))}for(var c=0;c<o.length;c++){var s=o[c];$e(s,"validation-listener")||s.hasAttribute("maxlength")&&(r=e(s),n=t(s),s.addEventListener("input",r),s.addEventListener("focusout",n))}Se(),se()}function Ae(){var e=document.getElementById("rsr_project.currency."+n.project_id);null!==e&&(e.onchange=function(e){return function(t){t.preventDefault();for(var r=e.value,n=document.querySelectorAll(".currency-display"),a=0;a<n.length;a++){var o=n[a];_e(o)||(o.innerHTML=r)}}}(e));for(var t=document.querySelectorAll(".currency-select"),r=0;r<t.length;r++){var a=t[r];a!==e&&(a.onchange=Ne(a))}}function _e(e){if(null!==e){var t=v(e,"parent");if(null!==t){var r=t.querySelector(".currency-select");if(null!==r)return""!==r.value}}return!1}function Ne(e){return function(t){if(t.preventDefault(),null!==e){var r=v(e,"parent"),a=e.value;if(""===a){var o=document.getElementById("rsr_project.currency."+n.project_id);null!==o&&(a=o.value)}if(null!==r)for(var l=r.querySelectorAll(".currency-display"),i=0;i<l.length;i++){var c=l[i];null!==c&&(c.innerHTML=a)}}}}function qe(){[{selector:".sector-vocabulary",optionsId:"sector-vocabulary-options",textInputSelector:".sector-code-text-input",dropDownInputSelector:".sector-code-dropdown-input"},{selector:".default-aid-type-vocabulary",optionsId:"aid-type-vocabulary-options",textInputSelector:".aid-type-text-input",dropDownInputSelector:".aid-type-dropdown-input"},{selector:".transaction-aid-type-vocabulary",optionsId:"aid-type-vocabulary-options",textInputSelector:".aid-type-text-input",dropDownInputSelector:".aid-type-dropdown-input"}].map(function(e){for(var t=document.querySelectorAll(e.selector),r=0;r<t.length;r++)t[r].querySelector("select").onchange=Re(t[r],e),Ce(t[r],e.optionsId,e.textInputSelector,e.dropDownInputSelector)})}function Re(e,t){return function(r){r.preventDefault(),Ce(e,t.optionsId,t.textInputSelector,t.dropDownInputSelector)}}function Ce(e,t,r,n){var a=e.getElementsByTagName("select")[0],o=a.options[a.selectedIndex].value,l=JSON.parse(document.getElementById(t).innerHTML)[o],i=e.parentNode.querySelector(r),c=e.parentNode.querySelector(n);if(l){c.classList.remove("hidden"),i.classList.add("hidden");var s=c.querySelector("select");for(var d in s.options.length=0,Le(s,"",""),l)Le(s,d,l[d]);!function(e,t){for(var r=0;r<e.options.length;r++)e.options[r].value==t&&(e.selectedIndex=r)}(s,s.getAttribute("saved-value"))}else i.classList.remove("hidden"),c.classList.add("hidden")}function Le(e,t,r){var n=document.createElement("option");n.text=r,n.value=t,e.add(n)}function we(){for(var e=document.querySelectorAll(".indicator-container"),t=0;t<e.length;t++)for(var r=e[t].querySelectorAll('.indicator-item:not([id*="new"])'),n=0;n<r.length;n++)ke(r[n],"indicator",n,r.length),r[n].classList.contains("default-period-buttons-set")||xe(r[n])}function je(){for(var e=document.querySelectorAll('.result-item:not([id*="new"])'),t=0;t<e.length;t++)ke(e[t],"result",t,e.length)}function ke(e,t,r,a){var o=e.getAttribute("id").split(".")[1];if(e.classList.contains("sort-buttons-set"))0===r||a<2?e.querySelector(".sort-up").setAttribute("class","sort-up hidden"):e.querySelector(".sort-up").setAttribute("class","sort-up"),r==a-1||a<2?e.querySelector(".sort-down").setAttribute("class","sort-down hidden"):e.querySelector(".sort-down").setAttribute("class","sort-down");else{var l=document.createElement("span");e.className+=" sort-buttons-set";var i=document.createElement("a"),c=document.createElement("span");c.style="margin-right: 10px; font-size: 80%;",0===r||a<2?(c.setAttribute("class","sort-up hidden"),c.innerHTML=n.move_up):(c.setAttribute("class","sort-up"),c.innerHTML=n.move_up),"indicator"==t?c.onclick=Te("indicator",o,"up"):"result"==t&&(c.onclick=Te("result",o,"up")),i.appendChild(c);var s=document.createElement("a"),d=document.createElement("span");d.style="margin-right: 10px; font-size: 80%;",r==a-1||a<2?(d.setAttribute("class","sort-down hidden"),d.innerHTML=n.move_down):(d.setAttribute("class","sort-down"),d.innerHTML=n.move_down),"indicator"==t?d.onclick=Te("indicator",o,"down"):"result"==t&&(d.onclick=Te("result",o,"down")),s.appendChild(d),l.appendChild(i),l.appendChild(s);var u=e.querySelector(".delete-related-object-container");u.insertBefore(l,u.childNodes[0])}}function Te(e,t,r){return function(a){var o,i;a.preventDefault();var c="item_type="+e+"&item_id="+t+"&item_direction="+r;o="/rest/v1/project/"+n.project_id+"/reorder_items/?format=json",(i=new XMLHttpRequest).open("POST",o,!0),i.setRequestHeader("X-CSRFToken",l),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.onload=function(){if(!(i.status>=200&&i.status<400))return!1;var n=JSON.parse(i.responseText);n.swap_id>-1?function(e,t,r,n){var a=document.getElementById(e+"."+t),o=document.getElementById(e+"."+r),l=a.parentNode;"up"==n?(l.insertBefore(a,o),l.firstElementChild==a&&(a.querySelector(".sort-up").className+=" hidden",Qe(o.querySelector(".sort-up"),"hidden")),l.lastElementChild.previousElementSibling==o&&(Qe(a.querySelector(".sort-down"),"hidden"),o.querySelector(".sort-down").className+=" hidden")):"down"==n&&(l.insertBefore(o,a),l.firstElementChild==o&&(Qe(a.querySelector(".sort-up"),"hidden"),o.querySelector(".sort-up").className+=" hidden"),l.lastElementChild.previousElementSibling==a&&(a.querySelector(".sort-down").className+=" hidden",Qe(o.querySelector(".sort-down"),"hidden")))}(e,t,n.swap_id,r):console.log(n.errors)},i.onerror=function(){return!1},i.send(c)}}function xe(e){indicatorId=e.getAttribute("id").split(".")[1];var t=document.createElement("span");t.setAttribute("class","default-period-container");var r=document.createElement("a");r.setAttribute("class","default-period-add"),r.innerHTML=n.set_default,r.onclick=function(e,t){return function(r){r.preventDefault(),e.querySelector(".default-period-add").classList.add("hidden");var a=document.createElement("span");a.setAttribute("class","default-confirm-container");var o=document.createElement("span");o.innerHTML=n.add_to_existing;var l=document.createElement("a");l.setAttribute("class","default-yes-button"),l.innerHTML=n.yes,l.onclick=Ie(e,t,!0);var i=document.createElement("a");i.setAttribute("class","default-no-button"),i.innerHTML=n.no,i.onclick=Ie(e,t,!1),a.appendChild(o),a.appendChild(l),a.appendChild(i),e.appendChild(a)}}(t,indicatorId);var a=document.createElement("a");a.setAttribute("class","default-period-remove"),a.innerHTML=n.remove_default,a.onclick=function(e,t){return function(r){r.preventDefault(),e.querySelector(".default-period-remove").classList.add("hidden"),He(t,!1,!1);for(var n=document.querySelectorAll(".default-period-add"),a=0;a<n.length;a++)n[a].classList.remove("hidden")}}(t,indicatorId),"-1"===n.default_indicator?a.classList.add("hidden"):indicatorId==n.default_indicator?r.classList.add("hidden"):(r.classList.add("hidden"),a.classList.add("hidden")),t.appendChild(r),t.appendChild(a);var o=e.querySelector(".delete-related-object-container");o.insertBefore(t,o.childNodes[0]),e.className+=" default-period-buttons-set"}function Ie(e,t,r){return function(a){if(a.preventDefault(),e.parentNode.classList.add("default-indicator"),e.querySelector(".default-confirm-container").classList.add("hidden"),!0===r){var o=document.createElement("span");o.innerHTML=n.refresh_periods,e.appendChild(o),He(t,!0,!0)}else e.querySelector(".default-period-remove").classList.remove("hidden"),He(t,!1,!0);for(var l=document.querySelectorAll(".default-period-add"),i=0;i<l.length;i++)l[i].classList.add("hidden")}}function He(e,t,r){var a,o,i="indicator_id="+e+"&copy="+t+"&set_default="+r;a="/rest/v1/project/"+n.project_id+"/default_periods/?format=json",(o=new XMLHttpRequest).open("POST",a,!0),o.setRequestHeader("X-CSRFToken",l),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.onload=function(){if(!(o.status>=200&&o.status<400))return!1;var t=JSON.parse(o.responseText);console.log("submitDefaultPeriods response: "+JSON.stringify(t)),t.default_periods?n.default_indicator=e:n.default_indicator="-1"},o.onerror=function(){return!1},o.send(i)}function Oe(e){return function(t){t.preventDefault();var r=e.querySelector(".panel-body");$e(r,"hidden")?Qe(r,"hidden"):We(r,"hidden")}}function Me(e){return function(t){var r,n,a,o,l,i;if(t.preventDefault(),a=e.parentNode.parentNode,r=document.getElementsByClassName("formBlock"),n=document.getElementsByClassName("toggleSection"),o=a.getElementsByClassName("formBlock")[0],i=a.getElementsByTagName("input")[0],l=e.getElementsByClassName("info-icon")[0],o.className.indexOf("hidden")>-1){o.className=o.className.replace("hidden",""),i.checked=!0,a.scrollIntoView(),window.scrollBy(0,-100);for(var c=0;c<r.length;c++)r[c]!==o&&-1===r[c].className.indexOf("hidden")&&(r[c].className+=" hidden");for(var s=0;s<n.length;s++){var d=n[s].getElementsByClassName("info-icon")[0];-1===d.className.indexOf("hidden")&&(d.className+=" hidden")}l.className.indexOf("hidden")>-1&&(l.className=l.className.replace("hidden","")),O(a)}else o.className+=" hidden",l.className+=" hidden"}}function Be(){var e=document.getElementById("private-project");null!==e&&(e.onchange=function(e){return function(t){t.preventDefault();var r="/rest/v1/project/"+n.project_id+"/?format=json",a=new XMLHttpRequest;a.open("PATCH",r,!0),a.setRequestHeader("X-CSRFToken",l),a.setRequestHeader("Content-type","application/json"),a.onload=function(){a.status>=200&&a.status<400&&(e.hasAttribute("checked")?e.removeAttribute("checked"):e.setAttribute("checked",""))};var o=e.hasAttribute("checked")?'{"is_public": true}':'{"is_public": false}';a.send(o)}}(e))}function De(){var e=document.getElementById("impact-project");null!==e&&(e.onchange=function(e){return function(t){t.preventDefault();var r="/rest/v1/project/"+n.project_id+"/?format=json",a=new XMLHttpRequest;a.open("PATCH",r,!0),a.setRequestHeader("X-CSRFToken",l),a.setRequestHeader("Content-type","application/json"),a.onload=function(){a.status>=200&&a.status<400&&(e.hasAttribute("checked")?e.removeAttribute("checked"):e.setAttribute("checked",""))};var o=e.hasAttribute("checked")?'{"is_impact_project": false}':'{"is_impact_project": true}';a.send(o)}}(e));var t=document.getElementById("import-results");null!==t&&(t.onclick=function(e){return function(t){var r,a,o;t.preventDefault(),e.setAttribute("disabled",""),a=e.parentNode,r="/rest/v1/project/"+n.project_id+"/import_results/?format=json",(o=new XMLHttpRequest).open("POST",r,!0),o.setRequestHeader("X-CSRFToken",l),o.setRequestHeader("Content-type","application/json"),o.onload=function(){var t,r,n;try{n=o.status,t=JSON.parse(o.responseText)}catch(e){n=500,t={message:"A network error occurred, please try again"}}r=document.createElement("div"),201===n?(a.removeChild(e),r.classList.add("save-success"),r.innerHTML="Import successful. Please refresh the page to see (and edit) the imported results.",a.appendChild(r)):(e.removeAttribute("disabled"),r.classList.add("help-block-error"),r.innerHTML=t.message,a.appendChild(r))},o.send()}}(t))}function Pe(){var e=document.getElementById("publishProject");return null!==e&&(e.onclick=function(e,t){return function(r){var a,o,i,c,s,d,u;if(r.preventDefault(),t.setAttribute("disabled",""),s=t.getAttribute("status"),(i=document.getElementById("publishErrors")).innerHTML="","unpublished"===s&&(u=Ue()).length>0){d="There are unsaved changes in the following section(s):<ul>";for(var p=0;p<u.length;p++)d+="<li>"+u[p]+"</li>";return d+="</ul>",(c=document.createElement("span")).className="notPublished",c.innerHTML=d,i.appendChild(c),void t.removeAttribute("disabled")}a="/rest/v1/publishing_status/"+e+"/?format=json",(o=new XMLHttpRequest).open("PATCH",a,!0),o.setRequestHeader("X-CSRFToken",l),o.setRequestHeader("Content-type","application/json"),o.onload=function(){if(o.status>=200&&o.status<400){var e,r,a=document.getElementById("publish-indicator");return"unpublished"===s?(a.className="published",a.innerHTML=n.published,t.setAttribute("status","published"),e=document.createTextNode(" "+n.unpublish),(r=document.createElement("span")).className="glyphicon glyphicon-remove",t.innerHTML="",t.className=t.className.replace("btn-success","btn-danger"),t.appendChild(r),t.appendChild(e)):(a.className="notPublished",a.innerHTML=n.not_published,t.setAttribute("status","unpublished"),e=document.createTextNode(" "+n.publish),(r=document.createElement("span")).className="glyphicon glyphicon-ok",t.innerHTML="",t.className=t.className.replace("btn-danger","btn-success"),t.appendChild(r),t.appendChild(e)),t.removeAttribute("disabled"),!1}if(t.removeAttribute("disabled"),400==o.status){var l;l=JSON.parse(o.responseText),(c=document.createElement("span")).className="notPublished",i.appendChild(c);try{for(var d=0;d<l.__all__.length;d++)c.innerHTML+=l.__all__[d]+"<br/>"}catch(e){i.innerHTML="unpublished"===s?"Could not publish project.":"Could not unpublish project."}}return!1},o.onerror=function(){return(c=document.createElement("span")).className="notPublished",i.appendChild(c),i.innerHTML="unpublished"===s?"Could not publish project due to a connection error.":"Could not unpublish project due to a connection error.",t.removeAttribute("disabled"),!1},"unpublished"===s?o.send('{"status": "published"}'):o.send('{"status": "unpublished"}')}}(n.publishing_status_id,e)),!1}function Xe(){if(n.hierarchy_name){var e=n.start_date;e||(e=n.period_start);var t=n.end_date;t||(t=n.period_end);for(var r=e+" - "+t,a=document.getElementsByClassName("indicator-period-container"),o=0;o<a.length;o++){var l=a[o].getElementsByClassName("unicode")[0];"("!==l.innerHTML[0]&&(l.innerHTML=r)}}}function Fe(){function e(e,t,r){return React.createClass({displayName:e,getInitialState:function(){return{initialDate:t,disableInput:r}},handleDateChange:function(e){this.setState({initialDate:e},this.fireInputChangeListener)},fireInputChangeListener:function(){var e=this.getDOMNode().querySelector("input");he(v(e,"formStep"),e)()},render:function(){return"true"!==r?React.createElement("div",null,React.createElement(DatePicker,{locale:"en",placeholderText:"",showYearDropdown:!0,dateFormat:"DD/MM/YYYY",selected:this.state.initialDate,onChange:this.handleDateChange,todayButton:n.today,className:this.props.classNames})):React.createElement("div",null,React.createElement(DatePicker,{locale:"en",placeholderText:"",dateFormat:"DD/MM/YYYY",selected:this.state.initialDate,className:this.props.classNames}))}})}for(var t=document.getElementsByClassName("datepicker-container"),r=0;r<t.length;r++){var a,o,l,i,c,s,d,u,p,m,f,h;if(-1==(l=t[r]).className.indexOf("has-datepicker")){a=l.getAttribute("data-id"),m=l.getAttribute("data-masquerade-date"),h=l.getAttribute("new-period"),u=l.getAttribute("data-child"),i=l.getAttribute("data-disabled"),s=""!==u?moment(u,"DD-MM-YYYY"):null;var g=l.getAttribute("mandatory-or"),y="form-control "+l.getAttribute("data-classes");o=e(a,s,i),ReactDOM.render(React.createElement(o,{key:a,classNames:y}),l),(d=l.querySelector("input")).setAttribute("id",a),d.setAttribute("name",a),"false"!==h&&null!==h||d.setAttribute("saved-value",u),"true"===i&&d.setAttribute("disabled",""),d.parentNode.className="",d.setAttribute("mandatory-or",g),m&&((f=document.createElement("input")).setAttribute("class","form-control masquerade-field"),f.setAttribute("type","text"),f.setAttribute("value",m),f.setAttribute("disabled",!0),d.parentNode.appendChild(f)),(p=document.createElement("label")).setAttribute("for",a),p.setAttribute("class","control-label"),p.innerHTML=l.getAttribute("data-label"),d.parentNode.appendChild(p),(c=document.createElement("p")).setAttribute("class","help-block hidden"),c.innerHTML=l.getAttribute("data-helptext"),d.parentNode.appendChild(c),l.className+=" has-datepicker"}}}function Je(e){return"file"!==e.type&&"checkbox"!==e.type&&!v(e,"form-group").classList.contains("hidden")&&(e.parentNode.classList.contains("typeahead")?e.getAttribute("value")!==e.getAttribute("saved-value"):e.value!==e.getAttribute("saved-value"))}function Ye(e){for(var t=e.querySelectorAll(h.join()),r=0;r<t.length;r++)if("checkbox"!==t[r].type&&!t[r].classList.contains("masquerade-field")&&!t[r].classList.contains("invisible")&&Je(t[r]))return!0;return!1}function Ue(){var e,t,r;r=[],t=["01 - General information","02 - Contact information","03 - Project partners","04 - Project descriptions","05 - Results and indicators","06 - Finance","07 - Project locations","08 - Project focus","09 - Links and documents","10 - Project comments","11 - Special reporting"],e=document.querySelectorAll("form");for(var n=0;n<e.length;n++)Ye(e[n])&&r.push(t[n]);return r}function Ve(){function e(){var e=document.querySelector(".modalParent");e.parentNode.removeChild(e)}function t(){var t,r,a;(function(){for(var e=!0,t=[["name","newOrgName"],["long_name","newOrgLongName"],["new_organisation_type","IATIOrgTypeContainer"],["latitude","orgLatitude"],["longitude","orgLongitude"],["iati_country","orgCountry"]],r=0;r<t.length;r++){var a=t[r],o=document.querySelector("#"+a[0]),l=document.querySelector("#"+a[0]+" + label + .help-block"),i=document.querySelector(".inputContainer."+a[1]);""===o.value?(l.textContent=n.blank_field,We(l,"help-block-error"),We(i,"has-error"),e=!1):("latitude"===a[0]||"longitude"===a[0])&&o.value.indexOf(",")>0?(l.textContent=n.comma_value,We(l,"help-block-error"),We(i,"has-error"),e=!1):(l.textContent="",Qe(l,"help-block-error"),Qe(i,"has-error"))}return e})()?(r=document.querySelector("#addOrganisation"),a=(a=b(r)).replace("iati_org_id=&",""),(t=new XMLHttpRequest).open("POST","/rest/v1/organisation/?format=json",!0),t.setRequestHeader("X-CSRFToken",l),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.onload=function(){var n;if(201!==t.status){if(400===t.status){for(var o in n=JSON.parse(t.responseText),document.querySelector(".orgModal").scrollTop=0,n)if(n.hasOwnProperty(o)){var i=r.querySelector("#"+o).parentNode,c=i.querySelector(".help-block");c.textContent=n[o],We(c,"help-block-error"),We(i,"has-error")}return!1}return We(r,"has-error"),!1}var s,d,u,p=(n=JSON.parse(t.responseText)).id;!function(e,t,r){var n=t.querySelector("#latitude").value,a=t.querySelector("#longitude").value;if(""!==n&&""!==a){var o=new XMLHttpRequest;o.open("POST","/rest/v1/organisation_location/?format=json",!1),o.setRequestHeader("X-CSRFToken",l),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send(r+"&location_target="+e)}!function(e){var t=document.getElementById("org-logo").files;if(void 0===t)return;var r="/rest/v1/organisation/"+e+"/add_logo/?format=json",n=new FormData,a=new XMLHttpRequest;n.append("logo",t[0]),a.open("POST",r),a.setRequestHeader("X-CSRFToken",l),a.send(n)}(e)}(p,r,a),s=p,d=document.querySelector("footer"),(u=v(document.getElementById(d.getAttribute("selector")),"typeahead-container")).setAttribute("data-value",s),u.setAttribute("not-saved",""),te(!0),e()},t.onerror=function(){return document.querySelector("#addOrgGeneralError").textContent=n.general_error,document.querySelector(".orgModal").scrollTop=0,!1},t.send(a)):document.querySelector(".orgModal").scrollTop=0}var r=React.createClass({displayName:"Modal",render:function(){var r=a.map(function(e){return React.createElement("option",{value:e.pk},e.name)});return React.createElement("div",{className:"modalParent"},React.createElement("div",{className:"modalBackground"}),React.createElement("div",{className:"modalContainer"},React.createElement("div",{className:"orgModal"},React.createElement("div",{className:"modalContents projectEdit"},React.createElement("h4",null,n.add_new_organisation),React.createElement("form",{id:"addOrganisation"},React.createElement("div",{className:"row"},React.createElement("div",{id:"addOrgGeneralError",className:"col-md-12 help-block-error"})),React.createElement("div",{className:"row"},React.createElement("div",{className:"inputContainer newOrgName col-md-4 form-group"},React.createElement("input",{name:"name",id:"name",type:"text",className:"form-control",maxLength:"40"}),React.createElement("label",{htmlFor:"newOrgName",className:"control-label"},n.name,React.createElement("span",{className:"mandatory in-org-modal"},"*")),React.createElement("p",{className:"help-block"},n.max," 40 ",n.characters)),React.createElement("div",{className:"inputContainer newOrgLongName col-md-4 form-group"},React.createElement("input",{name:"long_name",id:"long_name",type:"text",className:"form-control",maxLength:"100"}),React.createElement("label",{htmlFor:"newOrgLongName",className:"control-label"},n.long_name,React.createElement("span",{className:"mandatory in-org-modal"},"*")),React.createElement("p",{className:"help-block"},n.max," 100 ",n.characters)),React.createElement("div",{className:"inputContainer newOrgIatiId col-md-4 form-group"},React.createElement("input",{name:"iati_org_id",id:"iati_org_id",type:"text",className:"form-control",maxLength:"75"}),React.createElement("label",{htmlFor:"newOrgIatiId",className:"control-label"},n.iati_org_id),React.createElement("p",{className:"help-block"},n.max," 75 ",n.characters))),React.createElement("div",{className:"row"},React.createElement("div",{className:"inputContainer col-md-12 form-group"},React.createElement("input",{type:"file",className:"form-control",id:"org-logo",name:"org-logo",accept:"image/*"}),React.createElement("label",{className:"control-label",for:"org-logo"},n.org_logo))),React.createElement("div",{className:"row"},React.createElement("div",{className:"IATIOrgTypeContainer inputContainer col-md-6 form-group"},React.createElement("select",{name:"new_organisation_type",id:"new_organisation_type",className:"form-control"},React.createElement("option",{value:""}),React.createElement("option",{value:"10"},"10 - ",n.government),React.createElement("option",{value:"15"},"15 - ",n.other_public_sector),React.createElement("option",{value:"21"},"21 - ",n.international_ngo),React.createElement("option",{value:"22"},"22 - ",n.national_ngo),React.createElement("option",{value:"23"},"23 - ",n.regional_ngo),React.createElement("option",{value:"30"},"30 - ",n.public_private_partnership),React.createElement("option",{value:"40"},"40 - ",n.multilateral),React.createElement("option",{value:"60"},"60 - ",n.foundation),React.createElement("option",{value:"70"},"70 - ",n.private_sector),React.createElement("option",{value:"80"},"80 - ",n.academic_training_research)),React.createElement("label",{htmlFor:"newOrgIATIType",className:"control-label"},n.org_type,React.createElement("span",{className:"mandatory in-org-modal"},"*")),React.createElement("p",{className:"help-block"})),React.createElement("div",{className:"inputContainer col-md-6 form-group"},React.createElement("input",{name:"url",id:"url",type:"text",className:"form-control"}),React.createElement("label",{htmlFor:"url",className:"control-label"},n.website),React.createElement("p",{className:"help-block"},n.start_http))),React.createElement("div",{className:"row"},React.createElement("div",{className:"inputContainer orgLatitude col-md-4 form-group"},React.createElement("input",{name:"latitude",id:"latitude",type:"text",className:"form-control"}),React.createElement("label",{htmlFor:"latitude",className:"control-label"},n.latitude,React.createElement("span",{className:"mandatory in-org-modal"},"*")),React.createElement("p",{className:"help-block"})),React.createElement("div",{className:"inputContainer orgLongitude col-md-4 form-group"},React.createElement("input",{name:"longitude",id:"longitude",type:"text",className:"form-control"}),React.createElement("label",{htmlFor:"longitude",className:"control-label"},n.longitude,React.createElement("span",{className:"mandatory in-org-modal"},"*")),React.createElement("p",{className:"help-block"})),React.createElement("div",{className:"inputContainer orgCountry col-md-4 form-group"},React.createElement("select",{name:"iati_country",id:"iati_country",className:"form-control"},React.createElement("option",{value:""}),r),React.createElement("label",{htmlFor:"country",className:"control-label"},n.country,React.createElement("span",{className:"mandatory in-org-modal"},"*")),React.createElement("p",{className:"help-block"}))),React.createElement("div",{className:"row"},React.createElement("p",{className:"help-block"},n.use_link," ",React.createElement("a",{href:"http://www.latlong.net/",target:"_blank"},"http://www.latlong.net/")," ",n.coordinates)),React.createElement("div",{className:"row"},React.createElement("div",{className:"inputContainer col-md-6 form-group"},React.createElement("input",{name:"contact_person",id:"contact_person",type:"text",className:"form-control"}),React.createElement("label",{htmlFor:"contact_person",className:"control-label"},n.contact_person),React.createElement("p",{className:"help-block"})),React.createElement("div",{className:"inputContainer col-md-6 form-group"},React.createElement("input",{name:"contact_email",id:"contact_email",type:"text",className:"form-control"}),React.createElement("label",{htmlFor:"contact_email",className:"control-label"},n.contact_email),React.createElement("p",{className:"help-block"}))),React.createElement("div",{className:"row"},React.createElement("div",{className:"inputContainer col-md-12 form-group"},React.createElement("textarea",{id:"description",className:"form-control",name:"description",rows:"3"}),React.createElement("label",{className:"control-label",htmlFor:"description"},n.description),React.createElement("p",{className:"help-block"})))),React.createElement("div",{className:"controls"},React.createElement("button",{className:"modal-cancel btn btn-danger",onClick:e},React.createElement("span",{className:"glyphicon glyphicon-trash"})," ",n.cancel),React.createElement("button",{className:"modal-save btn btn-success",onClick:t},React.createElement("span",{className:"glyphicon glyphicon-floppy-disk"})," ",n.save))))))}});N(document.getElementById("panel3").querySelector(".save-button")),ReactDOM.render(React.createElement(r),document.querySelector("footer"))}function Ge(e){var t=e.getAttribute("id").split("-")[2],r="/rest/v1/project/"+n.project_id+"/remove_validation/"+t+"/?format=json",a=new XMLHttpRequest;a.open("DELETE",r),a.setRequestHeader("X-CSRFToken",l),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.onreadystatechange=function(){if(a.readyState!=XMLHttpRequest.DONE)return!1;200==a.status&&function(e){var t=document.getElementById("progress-bar"),r=t.getAttribute("validation-sets").split("-"),n=r.indexOf(e);n>-1&&(r.splice(n,1),t.setAttribute("validation-sets",r.join("-")),Ee(),ue(),ve())}(t)},a.send()}function ze(e){var t=e.getAttribute("id").split("-")[2];if(""!==t){var r="/rest/v1/project/"+n.project_id+"/add_validation/"+t+"/?format=json",a=new XMLHttpRequest;a.open("POST",r),a.setRequestHeader("X-CSRFToken",l),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.onreadystatechange=function(){if(a.readyState!=XMLHttpRequest.DONE)return!1;200==a.status&&function(e){var t=document.getElementById("progress-bar"),r=t.getAttribute("validation-sets").split("-");r.push(e),t.setAttribute("validation-sets",r.join("-")),Ee(),ue(),ve()}(t)},a.send()}}function Ke(e){return function(t){t.preventDefault(),e.hasAttribute("checked")?(Ge(e),e.removeAttribute("checked")):(ze(e),e.setAttribute("checked",""))}}function $e(e,t){if(e.classList&&e.classList.forEach){var r=!1;return e.classList.forEach(function(e){e.toString()!==t.toString()||(r=!0)}),r}return new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function We(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function Qe(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function Ze(){var e,t;e=s,(t=new XMLHttpRequest).onreadystatechange=function(){if(t.readyState!=XMLHttpRequest.DONE)return!1;if(200==t.status){var r=JSON.parse(t.responseText);d[e]=r,B(e,r),te()}},t.open("GET",e,!0),t.send(),function(){var e=c,t=new XMLHttpRequest;t.onreadystatechange=function(){if(t.readyState!=XMLHttpRequest.DONE)return!1;if(200==t.status){var r=JSON.parse(t.responseText);d[e]=r,B(e,r),ee()}},t.open("GET",e,!0),t.send()}(),window.onbeforeunload=function(e){var t,r;if(e=e||window.event,(t=Ue()).length>0){r="You have unsaved changes in the following section(s):\n\n";for(var n=0;n<t.length;n++)r+="\t• "+t[n]+"\n";return e&&(e.returnValue=r),r}},De(),Be(),function(){var e=document.getElementById("validation-sets");if(null!==e)for(var t=e.querySelectorAll("input"),r=0;r<t.length;r++)t[r].onchange=Ke(t[r])}(),Pe(),function(){for(var e=document.querySelectorAll(".save-button"),t=0;t<e.length;t++){var r=e[t].querySelector("button");r.addEventListener("click",q(r))}}(),Fe(),Xe(),function(){for(var e=document.getElementsByClassName("toggleSection"),t=document.querySelector(".formOverviewInfo"),r=document.querySelector(".formProgress"),n=0;n<e.length;n++)e[n].onclick=Me(e[n]);if(null!==t){var a=t.querySelector(".panel-heading");a.onclick=Oe(a.parentNode)}if(null!==r){var o=r.querySelector(".panel-heading");o.onclick=Oe(o.parentNode)}}(),P(),Ae(),qe(),j(),U(),we(),je(),Ee(),ae(),ue(),ve(),ge(),function(){try{m=JSON.parse(m)}catch(e){m={}}}(),function e(t){if(!location.hash||""===location.hash)return;if(0==location.hash.indexOf("#step")){var r=document.querySelector(location.hash);if(!r)return;r.parentElement.firstElementChild.click(),r.parentElement.firstElementChild.scrollIntoView(),location.hash=""}else if(0==location.hash.indexOf("#result.")){var n=location.hash,a=document.getElementById(location.hash.substring(1));location.hash="#stepFive",e(),a.querySelector(".hide-partial-click").click(),t&&(a.classList.add("error-highlight"),a.scrollIntoView(),location.hash=n)}else if(0==location.hash.indexOf("#indicator.")){var n=location.hash,o=document.getElementById(location.hash.substring(1));location.hash="#"+v(o,"parent").getAttribute("id"),e(),o.querySelector(".hide-partial-click").click(),t&&(o.classList.add("error-highlight"),o.scrollIntoView(),location.hash=n)}else if(0==location.hash.indexOf("#indicator_period.")){var n=location.hash,l=document.getElementById(location.hash.substring(1));location.hash="#"+v(l,"parent").getAttribute("id"),e(),l.querySelector(".hide-partial-click").click(),t&&(l.classList.add("error-highlight"),l.scrollIntoView(),location.hash=n)}}(!0)}var et=function(e,t,r){var n=document.createElement("script");n.src=e,n.onload=t,n.onreadystatechange=t,r.appendChild(n)};document.addEventListener("DOMContentLoaded",function(){"undefined"!=typeof React&&"undefined"!=typeof ReactDOM&&"undefined"!=typeof ReactTypeahead&&"undefined"!=typeof DatePicker?Ze():function(){function e(){var e=document.getElementById("react-datepicker-compat").src;et(e,Ze,document.body)}function t(){var t=document.getElementById("react-onclickoutside").src;et(t,e,document.body)}function r(){var e=document.getElementById("react-typeahead").src;et(e,t,document.body)}console.log("No React, load again.");var n=document.getElementById("react").src;et(n,function(){var e=document.getElementById("react-dom").src;et(e,r,document.body)},document.body)}()})}});
//# sourceMappingURL=projectEditor.js.map